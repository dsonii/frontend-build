(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78956000"],{"19cf":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("ul",[e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.b1))])]),e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.title))])])])])])])},o=[],r={name:"breadcrumb",props:["breadcrumbs"]},n=r,i=(s("2c06"),s("2877")),l=Object(i["a"])(n,a,o,!1,null,"7cf2419e",null);e["a"]=l.exports},"2c06":function(t,e,s){"use strict";s("526f")},"526f":function(t,e,s){},f2d9:function(t,e,s){"use strict";(function(t){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function s(t,e){return e={exports:{}},t(e,e.exports),e.exports}var a=s((function(t,e){(function(e,s){t.exports=s()})(0,(function(){return function t(e,s,a){var o,r,n=window,i="application/octet-stream",l=a||i,c=e,d=!s&&!a&&c,u=document.createElement("a"),p=function(t){return String(t)},h=n.Blob||n.MozBlob||n.WebKitBlob||p,f=s||"download";if(h=h.call?h.bind(n):Blob,"true"===String(this)&&(c=[c,l],l=c[0],c=c[1]),d&&d.length<2048&&(f=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var m=new XMLHttpRequest;return m.open("GET",d,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,f,i)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==p))return navigator.msSaveBlob?navigator.msSaveBlob(g(c),f):_(c);c=g(c),l=c.type||i}else if(/([\x80-\xff])/.test(c)){var b=0,v=new Uint8Array(c.length),w=v.length;for(b;b<w;++b)v[b]=c.charCodeAt(b);c=new h([v],{type:l})}function g(t){var e=t.split(/[:;,]/),s=e[1],a="base64"==e[2]?atob:decodeURIComponent,o=a(e.pop()),r=o.length,n=0,i=new Uint8Array(r);for(n;n<r;++n)i[n]=o.charCodeAt(n);return new h([i],{type:s})}function _(t,e){if("download"in u)return u.href=t,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){n.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var s=document.createElement("iframe");document.body.appendChild(s),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),s.src=t,setTimeout((function(){document.body.removeChild(s)}),333)}if(o=c instanceof h?c:new h([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(n.URL)_(n.URL.createObjectURL(o),!0);else{if("string"===typeof o||o.constructor===p)try{return _("data:"+l+";base64,"+n.btoa(o))}catch(y){return _("data:"+l+","+encodeURIComponent(o))}r=new FileReader,r.onload=function(t){_(this.result)},r.readAsDataURL(o)}return!0}}))})),o={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var t=(new Date).getTime();return"export_"+t},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let t=this.data;if("function"!==typeof this.fetch&&t||(t=await this.fetch()),!t||!t.length)return;let e=this.getProcessedJson(t,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(t,e,s){let o=this.base64ToBlob(t,s);"function"===typeof this.beforeFinish&&await this.beforeFinish(),a(o,e,s)},jsonToXLS(t){let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',s="<thead>";const a=Object.keys(t[0]).length;let o=this;const r=this.header||this.$attrs.title;r&&(s+=this.parseExtraData(r,'<tr><th colspan="'+a+'">${data}</th></tr>')),s+="<tr>";for(let n in t[0])s+="<th>"+n+"</th>";return s+="</tr>",s+="</thead>",s+="<tbody>",t.map((function(t,e){s+="<tr>";for(let a in t)s+="<td>"+o.preprocessLongNum(o.valueReformattedForMultilines(t[a]))+"</td>";s+="</tr>"})),s+="</tbody>",null!=this.footer&&(s+="<tfoot>",s+=this.parseExtraData(this.footer,'<tr><td colspan="'+a+'">${data}</td></tr>'),s+="</tfoot>"),e.replace("${table}",s).replace("${worksheet}",this.worksheet)},jsonToCSV(t){let e=this;var s=[];const a=this.header||this.$attrs.title;a&&s.push(this.parseExtraData(a,"${data}\r\n"));for(let o in t[0])s.push(o),s.push(",");return s.pop(),s.push("\r\n"),t.map((function(t){for(let a in t){let o=t[a]+"";e.escapeCsv&&(o='="'+o+'"',o.match(/[,"\n]/)&&(o='"'+o.replace(/\"/g,'""')+'"')),s.push(o),s.push(",")}s.pop(),s.push("\r\n")})),null!=this.footer&&s.push(this.parseExtraData(this.footer,"${data}\r\n")),s.join("")},getProcessedJson(t,e){let s=this.getKeys(t,e),a=[],o=this;return t.map((function(t,e){let r={};for(let a in s){let e=s[a];r[a]=o.getValue(e,t)}a.push(r)})),a},getKeys(t,e){if(e)return e;let s={};for(let a in t[0])s[a]=a;return s},parseExtraData(t,e){let s="";if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&(s+=e.replace("${data}",t[a]));else s+=e.replace("${data}",t);return s},getValue(t,e){const s="object"!==typeof t?t:t.field;let a="string"!==typeof s?[]:s.split("."),o=this.defaultValue;return o=s?a.length>1?this.getValueFromNestedItem(e,a):this.parseValue(e[s]):e,t.hasOwnProperty("callback")&&(o=this.getValueFromCallback(o,t.callback)),o},valueReformattedForMultilines(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem(t,e){let s=t;for(let a of e)s&&(s=s[a]);return this.parseValue(s)},getValueFromCallback(t,e){if("function"!==typeof e)return this.defaultValue;const s=e(t);return this.parseValue(s)},parseValue(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob(t,e){let s=window.btoa(window.unescape(encodeURIComponent(t))),a=atob(s),o=a.length,r=new Uint8ClampedArray(o);while(o--)r[o]=a.charCodeAt(o);return new Blob([r],{type:e})}}};function r(t,e,s,a,o,r,n,i,l,c){"boolean"!==typeof n&&(l=i,i=n,n=!1);var d,u="function"===typeof s?s.options:s;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),a&&(u._scopeId=a),r?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=n?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),d)if(u.functional){var p=u.render;u.render=function(t,e){return d.call(e),p(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return s}var n=r;const i=o;var l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:t.idName},on:{click:t.generate}},[t._t("default",[t._v(" Download "+t._s(t.name)+" ")])],2)},c=[];l._withStripped=!0;const d=void 0,u=void 0,p=void 0,h=!1;var f=n({render:l,staticRenderFns:c},d,i,u,h,p,void 0,void 0);e["a"]=f}).call(this,s("c8ba"))},f9b4:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",{staticClass:"col-lg-12"},[e("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"total-rows":t.total_rows,classes:t.classes,"show-loader":t.showLoader},on:{"on-change-query":t.onChangeQuery},scopedSlots:t._u([{key:"is_active",fn:function(s){return["is_active"==s.column.name?e("b-form-select",{class:"Active"==s.row.is_active?"text-success":"text-danger",attrs:{options:t.options},on:{change:function(e){return t.updateStatus(s.row.is_active,s.row.role,s.row.ids)}},model:{value:s.row.is_active,callback:function(e){t.$set(s.row,"is_active",e)},expression:"props.row.is_active"}}):t._e()]}},{key:"action",fn:function(s){return["action"==s.column.name?e("span",[e("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-left",text:"Actions",variant:"outline-info"}},[e("b-dropdown-item",{on:{click:function(e){return t.viewRow(s.row)}}},[e("span",{staticClass:"text-dark"},[e("i",{staticClass:"mdi mdi-eye"}),t._v(" View ")])]),e("b-dropdown-item",{attrs:{href:"#/pass/"+s.row.ids}},[e("span",{staticClass:"text-primary"},[e("i",{staticClass:"mdi mdi-pencil"}),t._v(" Edit ")])])],1)],1):t._e()]}}])},[e("template",{slot:"global-search-clear-icon"},[e("i",{staticClass:"mdi mdi-account-search"})]),e("template",{slot:"refresh-button-text"},[e("i",{staticClass:"mdi mdi-sync-alert"}),t._v(" Refresh ")]),e("template",{slot:"reset-button-text"},[e("i",{staticClass:"mdi mdi-broom"}),t._v(" Reset filters ")]),e("template",{slot:"paginataion-previous-button"},[t._v(" Previous ")]),e("template",{slot:"paginataion-next-button"},[t._v(" Next ")]),e("template",{slot:"vbt-action-buttons"},[e("div",{staticClass:"btn-group float-right",attrs:{role:"group","aria-label":"Basic example"}},[e("download-excel",{staticClass:"btn btn-success mr-2",attrs:{data:t.excelDownload,name:t.excelName}},[t._v(" Excel "),e("i",{staticClass:"mdi mdi-file-excel-box"})])],1)])],2),e("template",{slot:"custom-action-export"},[t._v(" Excel "),e("i",{staticClass:"mdi mdi-file-excel-box"})]),e("b-modal",{ref:"myModalRefPass",attrs:{title:t.title,size:"xl","ok-title":t.modaloktitle},on:{hidden:t.hideModal,ok:t.handleOk}},[1==t.modalView?e("span",[e("modalView",{attrs:{modalData:t.modalData}})],1):t._e()])],2)])])])},o=[],r=(s("14d9"),s("0643"),s("4e3e"),s("19cf")),n=s("dde5"),i=s("7f45"),l=s.n(i),c=s("f2d9"),d=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("No of rides ")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.no_of_rides))]),e("b-col",{attrs:{cols:"4"}},[t._v("No of valid days")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.no_of_valid_days))]),e("b-col",{attrs:{cols:"4"}},[t._v("Price per km")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.price_per_km))]),e("b-col",{attrs:{cols:"4"}},[t._v("Discount")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.discount))]),e("b-col",{attrs:{cols:"4"}},[t._v("Description")]),e("b-col",{attrs:{cols:"8"}},[e("span",{domProps:{innerHTML:t._s(t.modalData.description)}})]),e("b-col",{attrs:{cols:"4"}},[t._v("Terms")]),e("b-col",{attrs:{cols:"8"}},[e("span",{domProps:{innerHTML:t._s(t.modalData.terms)}})]),e("b-col",{attrs:{cols:"4"}},[t._v("Status")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.status))]),e("b-col",{attrs:{cols:"4"}},[t._v("Created At")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.dateConvert(t.modalData.createdAt)))])],1)],1)],1)])},u=[],p={name:"modelView",props:["modalData"],methods:{dateConvert(t){return l.a.utc(t).tz("Asia/Kolkata").format("LLL")}}},h=p,f=s("2877"),m=Object(f["a"])(h,d,u,!1,null,null,null),b=m.exports,v=s("12f9"),w={name:"passes",data(){return{title:"",breadcrumbs:{title:"Passes Lists",b1:"Manage Passes",b2:"Passes",b3:"Index",link:!1,name:"Pass lists"},options:[{text:"Active",value:"Active"},{text:"Inactive",value:"Inactive"}],showLoader:!0,status:"",modaloktitle:"",rows:[],columns:[{label:"No of ride",name:"no_of_rides",sort:!0},{label:"Valid Days",name:"no_of_valid_days",sort:!0},{label:"Price per km",name:"price_per_km",sort:!0},{label:"Discount",name:"discount",sort:!0},{label:"Status",name:"status",sort:!1},{label:"CreatedAt",name:"createdAt",sort:!0},{label:"Action",name:"action"}],config:{server_mode:!0,loaderText:"Updating...",pagination:!0,per_page_options:[10,20,30,50,100],global_search:{placeholder:"Enter search pass",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:1e3},highlight_row_hover_color:"silver",card_mode:!0},dropdowns:[],classes:{table:"  table-bordered  table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},total_rows:0,modalView:!1,modalData:{}}},components:{Breadcrumb:r["a"],VueBootstrap4Table:v["a"],downloadExcel:c["a"],modalView:b},computed:{excelDownload(){return n["r"].tranform(this.rows)},excelName(){return this.breadcrumbs.title+"_"+l()().local().unix()}},methods:{onGenerateExcel(){return n["r"].tranform(this.rows)},updateStatus(t,e,s){n["r"].changeStatus(t,e,s).then(t=>{t.status?this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}):this.$toast.open({message:t.message,type:"danger",position:"top-right",duration:3e3})})},viewRow(t){this.title="Pass Details",this.modalView=!0,this.modaloktitle="Ok",this.$refs.myModalRefPass.show(),this.modalData=t},editRow(t){console.log(t)},async deleteRow(t){try{this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&n["r"].deletePass(t).then(t=>{"object"===typeof t.data&&401===t.data.status?(this.$swal.fire(t.data.message,"","error"),this.$toast.open({message:t.data.message,type:"error",position:"top-right",duration:3e3}),this.showLoader=!1):t.status&&(this.$swal.fire("Deleted!",t.message,"success"),this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems())})})}catch(e){this.$toast.open({message:e,type:"error",position:"top-right",duration:5e3})}},hideModal(){this.$refs.myModalRefPass.hide(),this.modalView=!1},handleOk(){this.$refs.myModalRefPass.hide(),this.modalView=!1},showAlert(t){alert(t)},onChangeQuery(t){this.queryParams=t,this.showLoader=!0,this.fetchData()},fetchData(){n["r"].getAll(this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.passes,this.showLoader=!1})},enableDropdowns(){this.$el.querySelectorAll('[data-toggle="dropdown"]').forEach(t=>{const e=t.nextElementSibling;let s=!1;function a(t){s=t,e.classList.toggle("show",s)}this.dropdowns.includes(e)||(this.dropdowns.push(e),t.addEventListener("click",t=>{t.preventDefault(),a(!s)}),e.addEventListener("click",t=>{t.preventDefault(),a(!1)}),e.clickOutsideEvent=s=>{const o=e===s.target||e.contains(s.target),r=t===s.target||t.contains(s.target);o||r||a(!1)},document.addEventListener("click",e.clickOutsideEvent))})}},mounted(){this.fetchData()},updated(){this.enableDropdowns()},destroyed(){this.dropdowns.forEach(t=>{document.removeEventListener("click",t.clickOutsideEvent)})}},g=w,_=Object(f["a"])(g,a,o,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-78956000.c5ed5765.js.map