(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-617730bc"],{"19cf":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"level"},[t("div",{staticClass:"level-left"},[t("ul",[t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.b1))])]),t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.title))])])])])])])},r=[],i={name:"breadcrumb",props:["breadcrumbs"]},o=i,l=(a("2c06"),a("2877")),n=Object(l["a"])(o,s,r,!1,null,"7cf2419e",null);t["a"]=n.exports},"2c06":function(e,t,a){"use strict";a("526f")},"526f":function(e,t,a){},cc1f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"tables"},[t("div",{staticClass:"row"},[t("Breadcrumb",{attrs:{breadcrumbs:e.breadcrumbs}}),t("div",{staticClass:"col-lg-8 offset-lg-2 grid-margin stretch-card"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("b-form",{on:{submit:function(t){return t.preventDefault(),e.createAgent.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"First Name","label-for":"firstname-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.firstname.$error},attrs:{id:"firstname-input",type:"text",placeholder:"Enter first name",state:e.validateState("firstname")},model:{value:e.$v.form.firstname.$model,callback:function(t){e.$set(e.$v.form.firstname,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.firstname.$model"}}),e.submitted&&!e.$v.form.firstname.required?t("div",{staticClass:"invalid-feedback"},[e._v(" first name is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Last Name","label-for":"lastname-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.lastname.$error},attrs:{id:"lastname-input",type:"text",placeholder:"Enter last name",state:e.validateState("lastname")},model:{value:e.$v.form.lastname.$model,callback:function(t){e.$set(e.$v.form.lastname,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.lastname.$model"}}),e.submitted&&!e.$v.form.lastname.required?t("div",{staticClass:"invalid-feedback"},[e._v(" last name is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Email Address","label-for":"email-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.email.$error},attrs:{id:"email-input",type:"email",placeholder:"Enter email address",state:e.validateState("email")},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.email.$model"}}),e.submitted&&!e.$v.form.email.required?t("div",{staticClass:"invalid-feedback"},[e._v(" email address is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Phone Number","label-for":"phone-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.phone.$error},attrs:{id:"phone-input",placeholder:"Enter phone number",state:e.validateState("phone")},model:{value:e.$v.form.phone.$model,callback:function(t){e.$set(e.$v.form.phone,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.phone.$model"}}),e.submitted&&!e.$v.form.phone.required?t("div",{staticClass:"invalid-feedback"},[e._v(" phone number is required ")]):e._e(),e.$v.form.phone.minLength?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Name must have at least "+e._s(e.$v.form.phone.$params.minLength.min)+" letters. ")])],1),t("b-form-group",{staticClass:"mt-3",attrs:{label:"Status ","label-for":"status-input","invalid-feedback":"status is required","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-radio-group",{attrs:{options:e.options,name:"status"},model:{value:e.form.is_active,callback:function(t){e.$set(e.form,"is_active",t)},expression:"form.is_active"}})],1),t("br"),t("b-form-group",{attrs:{label:"Profile picture","label-for":"picture-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[e.form.picture?t("div",[t("img",{staticClass:"img-fluid",attrs:{src:e.form.picture,width:"200",height:"200"}}),t("button",{staticClass:"btn social-btn btn-rounded btn-danger mr-4",on:{click:function(t){return e.removeImage("picture")}}},[t("i",{staticClass:"mdi mdi-close"})])]):t("div",[t("b-form-file",{attrs:{id:"picture-input",accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose a Profile picture or drop it here..."},on:{change:function(t){return e.onFileChange(t,"picture")}}})],1)]),t("p",{staticClass:"card-description fw-500"},[t("b",[e._v("Company Details")])]),t("br"),t("b-form-group",{attrs:{label:"Company Name","label-for":"company-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.company.$error},attrs:{id:"company-input",placeholder:"Enter company number",state:e.validateState("company")},model:{value:e.$v.form.company.$model,callback:function(t){e.$set(e.$v.form.company,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.company.$model"}}),e.submitted&&!e.$v.form.company.required?t("div",{staticClass:"invalid-feedback"},[e._v(" company name is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Contact No","label-for":"contact-no-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.contact_no.$error},attrs:{id:"contact-no-input",placeholder:"Enter contact number",state:e.validateState("contact_no")},model:{value:e.$v.form.contact_no.$model,callback:function(t){e.$set(e.$v.form.contact_no,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contact_no.$model"}}),e.submitted&&!e.$v.form.contact_no.required?t("div",{staticClass:"invalid-feedback"},[e._v(" contact number is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"City","label-for":"city-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.city.$error},attrs:{id:"city-input",placeholder:"Enter city name",state:e.validateState("city")},model:{value:e.$v.form.city.$model,callback:function(t){e.$set(e.$v.form.city,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.city.$model"}}),e.submitted&&!e.$v.form.city.required?t("div",{staticClass:"invalid-feedback"},[e._v(" city name is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Home Address","label-for":"address-1-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-textarea",{attrs:{id:"address-1-input",placeholder:"Enter home address...",rows:"3","max-rows":"5"},model:{value:e.form.address_1,callback:function(t){e.$set(e.form,"address_1","string"===typeof t?t.trim():t)},expression:"form.address_1"}})],1),t("b-form-group",{attrs:{label:"Office Address","label-for":"address-2-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-textarea",{class:{"is-invalid":e.submitted&&e.$v.form.address_2.$error},attrs:{id:"address-2-input",placeholder:"Enter office address...",rows:"3","max-rows":"5",state:e.validateState("address_2")},model:{value:e.$v.form.address_2.$model,callback:function(t){e.$set(e.$v.form.address_2,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.address_2.$model"}}),e.submitted&&!e.$v.form.address_2.required?t("div",{staticClass:"invalid-feedback"},[e._v(" office address is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Pincode","label-for":"pincode-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.pincode.$error},attrs:{id:"pincode-input",placeholder:"Enter Pincode",state:e.validateState("pincode")},model:{value:e.$v.form.pincode.$model,callback:function(t){e.$set(e.$v.form.pincode,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.pincode.$model"}}),e.submitted&&!e.$v.form.pincode.required?t("div",{staticClass:"invalid-feedback"},[e._v(" pincode is required ")]):e._e(),e.$v.form.pincode.minLength?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Name must have at least "+e._s(e.$v.form.pincode.$params.minLength.min)+" letters. ")])],1),t("b-form-group",{attrs:{label:"Pancard","label-for":"pancard-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[e.form.document_pancard?t("div",[t("img",{staticClass:"img-fluid",attrs:{src:e.form.document_pancard,width:"300",height:"200"}}),t("button",{staticClass:"btn social-btn btn-rounded btn-danger mr-4",on:{click:function(t){return e.removeImage("document_pancard")}}},[t("i",{staticClass:"mdi mdi-close"})])]):t("div",[t("b-form-file",{attrs:{id:"pancard-input",accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose a Pancard or drop it here..."},on:{change:function(t){return e.onFileChange(t,"document_pancard")}}})],1)]),t("b-form-group",{attrs:{label:"GST Certificate","label-for":"gst-certificate-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[e.form.document_gst_certificate?t("div",[t("img",{staticClass:"img-fluid",attrs:{src:e.form.document_gst_certificate,width:"350",height:"250"}}),t("button",{staticClass:"btn social-btn btn-rounded btn-danger mr-4",on:{click:function(t){return e.removeImage("document_gst_certificate")}}},[t("i",{staticClass:"mdi mdi-close"})])]):t("div",[t("b-form-file",{attrs:{id:"gst-certificate-input",accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose a GST Certificate or drop it here..."},on:{change:function(t){return e.onFileChange(t,"document_gst_certificate")}}})],1)]),t("b-form-group",{staticClass:"col-md-6 offset-md-4"},[t("b-button",{staticClass:"btn btn-lg btn-success text-center",attrs:{type:"submit"}},[e._v("Submit")])],1)],1)],1)])])],1)])])},r=[],i=(a("14d9"),a("19cf")),o=a("1dce"),l=a("b5ae"),n=a("dde5"),c={name:"agentcreate",mixins:[o["validationMixin"]],data(){return{breadcrumbs:{title:"Create Agent",b1:"Manage Agents",b2:"Agents",b3:"Index",link:!0,name:"agents"},form:{firstname:"",lastname:"",email:"",phone:"",picture:"",company:"",address_1:"",address_2:"",city:"",pincode:"",is_active:"",contact_no:"",document_pancard:"",document_gst_certificate:"",role:"agents"},submitted:!1,options:[{text:"Active",value:!0},{text:"Inactive",value:!1,default:!0}]}},components:{Breadcrumb:i["a"]},validations:{form:{email:{required:l["required"],email:l["email"]},firstname:{required:l["required"]},lastname:{required:l["required"]},phone:{required:l["required"],numeric:l["numeric"],minLength:Object(l["minLength"])(10)},company:{required:l["required"]},address_2:{required:l["required"]},pincode:{required:l["required"],numeric:l["numeric"],minLength:Object(l["minLength"])(6)},city:{required:l["required"]},contact_no:{required:l["required"],numeric:l["numeric"],minLength:Object(l["minLength"])(10)}}},methods:{validateState(e){const{$dirty:t,$error:a}=this.$v.form[e];return t?!a:null},onFileChange(e,t){var a=e.target.files||e.dataTransfer.files;console.log(a),a.length&&this.createImage(a[0],t)},createImage(e,t){var a=new FileReader,s=this;a.onload=e=>{s.form[t]=e.target.result},a.readAsDataURL(e)},removeImage:function(e){this.form[e]=""},async createAgent(){try{if(this.submitted=!0,this.$v.$touch(),this.$v.$invalid)return;const e=await n["a"].create(this.form);e.status&&(this.$toast.open({message:e.message,type:"success",position:"top-right",duration:3e3}),setTimeout(()=>this.$router.push({path:`/${this.$store.state.auth.role}/agents`}),3e3))}catch(e){console.log("e",e),this.$toast.open({message:e,type:"error",position:"top-right",duration:5e3})}}}},m=c,d=a("2877"),u=Object(d["a"])(m,s,r,!1,null,"0edb7ca6",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-617730bc.30bed50d.js.map