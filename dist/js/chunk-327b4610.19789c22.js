(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-327b4610"],{"19cf":function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("ul",[s("li",{staticClass:"is-active"},[s("a",[t._v(t._s(t.breadcrumbs.b1))])]),s("li",{staticClass:"is-active"},[s("a",[t._v(t._s(t.breadcrumbs.title))])])])])])])},i=[],l={name:"breadcrumb",props:["breadcrumbs"]},o=l,r=(e("2c06"),e("2877")),n=Object(r["a"])(o,a,i,!1,null,"7cf2419e",null);s["a"]=n.exports},"2c06":function(t,s,e){"use strict";e("526f")},"526f":function(t,s,e){},"92d4":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",[s("section",{staticClass:"tables"},[s("div",{staticClass:"row"},[s("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}}),s("div",{staticClass:"col-lg-12 grid-margin stretch-card"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("createForm",{attrs:{formtype:t.formtype}})],1)])])],1)])])},i=[],l=e("19cf"),o=function(){var t=this,s=t._self._c;return s("div",[s("b-form",{attrs:{if:t.formtype},on:{submit:function(s){return s.preventDefault(),t.createBustype.apply(null,arguments)}}},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"7"}},[s("b-form-group",{attrs:{label:"Name","label-for":"name-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[s("b-form-input",{class:{"is-invalid":t.submitted&&t.$v.form.name.$error},attrs:{id:"name-input",type:"text",placeholder:"Enter name",state:t.validateState("name")},model:{value:t.$v.form.name.$model,callback:function(s){t.$set(t.$v.form.name,"$model","string"===typeof s?s.trim():s)},expression:"$v.form.name.$model"}}),t.submitted&&!t.$v.form.name.required?s("div",{staticClass:"invalid-feedback"},[t._v(" name is required ")]):t._e()],1),s("b-form-group",{attrs:{label:"Layout","label-for":"layout-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[s("b-form-select",{staticClass:"mb-3",attrs:{state:t.validateState("layout")},scopedSlots:t._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an layout --")])]},proxy:!0}]),model:{value:t.$v.form.layout.$model,callback:function(s){t.$set(t.$v.form.layout,"$model","string"===typeof s?s.trim():s)},expression:"$v.form.layout.$model"}},[s("b-form-select-option",{attrs:{value:"layout-1"}},[t._v("1 X 1")]),s("b-form-select-option",{attrs:{value:"layout-2"}},[t._v("1 X 2")]),s("b-form-select-option",{attrs:{value:"layout-3"}},[t._v("2 X 1")]),s("b-form-select-option",{attrs:{value:"layout-4"}},[t._v("2 X 2")]),s("b-form-select-option",{attrs:{value:"layout-5"}},[t._v("2 X 3")]),s("b-form-select-option",{attrs:{value:"layout-6"}},[t._v("3 X 2")])],1),t.submitted&&!t.$v.form.layout.required?s("b-form-invalid-feedback",[t._v("layout is a required field.")]):t._e()],1),s("b-form-group",{attrs:{label:"max Seats","label-for":"max-seats-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[s("b-form-input",{class:{"is-invalid":t.submitted&&t.$v.form.max_seats.$error},attrs:{id:"max-seats-input",type:"text",placeholder:"Enter max seats.",state:t.validateState("max_seats")},on:{keyup:t.myFunction},model:{value:t.$v.form.max_seats.$model,callback:function(s){t.$set(t.$v.form.max_seats,"$model","string"===typeof s?s.trim():s)},expression:"$v.form.max_seats.$model"}}),t.submitted&&!t.$v.form.max_seats.required?s("div",{staticClass:"invalid-feedback"},[t._v(" max seats is required ")]):t._e()],1),s("b-form-group",{attrs:{label:"Seat Number","label-for":"seat-number-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[s("b-form-textarea",{attrs:{id:"seat-numbers",placeholder:"Enter something...",rows:"6","max-rows":"14",size:"lg"},model:{value:t.form.seat_numbers,callback:function(s){t.$set(t.form,"seat_numbers",s)},expression:"form.seat_numbers"}}),s("small",{staticClass:"text-info"},[t._v("Use comma to separate the input")])],1),s("b-form-group",{staticClass:"mt-3",attrs:{label:"Status ","label-for":"status-input","invalid-feedback":"status is required","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[s("b-form-radio-group",{attrs:{options:t.options,name:"status"},model:{value:t.form.status,callback:function(s){t.$set(t.form,"status",s)},expression:"form.status"}}),t.submitted&&!t.$v.form.status.required?s("b-form-invalid-feedback",[t._v("Please select one")]):t._e()],1)],1),s("b-col",{attrs:{cols:"5"}},[s("div",{staticClass:"box-body row",attrs:{id:"layouts"}},[s("div",{staticClass:"col-md-3 nopadding"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["left_1"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0),s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["left_2"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0),s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["left_3"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0)])]),s("div",{staticClass:"col-md-2 nopadding"}),s("div",{staticClass:"col-md-3 nopadding"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["right_1"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0),s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["right_2"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0),s("div",{staticClass:"col-md-4 nopadding apps-container"},t._l(t.seat_details["right_3"],(function(e){return s("div",{key:e.bus,staticClass:"col-md-12 nopadding app"},[s("div",{class:e.type}),s("span",[t._v(t._s(e.seat_no))])])})),0)])])])])],1)],1),s("b-form-group",{staticClass:"col-md-6 offset-md-4"},[s("b-button",{staticClass:"btn btn-lg btn-success text-center",attrs:{type:"submit"}},[t._v("Submit")])],1)],1)],1)},r=[],n=(e("14d9"),e("a573"),e("dde5")),c=e("1dce"),d=e("b5ae"),u={mixins:[c["validationMixin"]],name:"createform",props:{formtype:{type:Boolean},handlebustype:{type:Function}},data(){return{isEditing:!1,options:[{text:"Active",value:"true"},{text:"Inactive",value:"false",default:!0}],form:{name:"",status:"",max_seats:"",layout:"layout-4",seat_numbers:"",combine_seats:[]},submitted:!1,loading:!1,layout_count:0,layout_name:"",each_row:0,diff_count:0,layout_var:[],seat_details:[],totallast:"",last_row:[]}},validations:{form:{name:{required:d["required"]},status:{required:d["required"]},max_seats:{required:d["required"],integer:d["integer"]},layout:{required:d["required"]}}},methods:{validateState(t){const{$dirty:s,$error:e}=this.$v.form[t];return s?!e:null},myFunction(){var t;t=this.form.max_seats;var s="1",e=[0,2,3,3,4,5,5],a=this.form.layout.split("-");this.layout_name=a;var i=parseInt(a[1]);this.layout_count=e[i];var l=parseInt(t/this.layout_count),o=l*this.layout_count,r=parseInt(t-o);this.each_row=l,this.diff_count=r,console.log("inner = "+t),console.log("layout_count = "+this.layout_count),console.log("each_row = "+l),console.log("diff_count = "+r);var n=[];n[1]=["left_1","right_2"],n[2]=["left_1","right_1","right_2"],n[3]=["left_1","left_2","right_2"],n[4]=["left_1","left_2","right_1","right_2"],n[5]=["left_1","left_2","right_1","right_2","right_3"],n[6]=["left_1","left_2","left_3","right_1","right_2"];var c=[];c=["A","B","C","D","E","F"],this.layout_var=n,this.seat_details=[],this.seat_details["left_1"]=[],this.seat_details["left_2"]=[],this.seat_details["left_3"]=[],this.seat_details["right_1"]=[],this.seat_details["right_2"]=[],this.seat_details["right_3"]=[];var d=[];let u=!1;for(var m=0;m<n[i].length;m++){var _=l;m==parseInt(n[i].length-1)&&(_=l+r),s=0==m?"":_*m;for(var f=0;f<_;f++){var p=parseInt(1+f),v=parseInt(s+f);5==i||6==i?u=c[m]+p=="A1"||c[m]+p=="B1"||c[m]+p=="A2"||c[m]+p=="B2"||c[m]+p=="C1"||c[m]+p=="D1"||c[m]+p=="C2"||c[m]+p=="D2"||c[m]+p=="E1"||c[m]+p=="E2":4==i?u=c[m]+p=="A1"||c[m]+p=="B1"||c[m]+p=="A2"||c[m]+p=="B2"||c[m]+p=="C1"||c[m]+p=="D1"||c[m]+p=="C2"||c[m]+p=="D2":3==i?u=c[m]+p=="A1"||c[m]+p=="B1"||c[m]+p=="A2"||c[m]+p=="B2"||c[m]+p=="C1"||c[m]+p=="C2":2==i&&(u=c[m]+p=="A1"||c[m]+p=="A2"||c[m]+p=="B1"||c[m]+p=="B2"||c[m]+p=="C1"||c[m]+p=="C2"),this.seat_details[n[i][m]].push({bus:v,type:u?"sleeper-pink":"sleeper",seat_no:c[m]+p,is_ladies:u}),d.push(c[m]+p)}}var b=[...this.seat_details["left_1"],...this.seat_details["left_2"],...this.seat_details["left_3"],...this.seat_details["right_1"],...this.seat_details["right_2"],...this.seat_details["right_3"]];if(this.form.combine_seats=[this.seat_details["left_1"],this.seat_details["left_2"],this.seat_details["left_3"],this.seat_details["right_1"],this.seat_details["right_2"],this.seat_details["right_3"]],this.form.seat_numbers=b.map((function(t){return t.seat_no})).join(" , "),this.last_row.length>0){var h=this.last_row.map((function(t){return t.seat_no})).join(" , ");this.form.seat_numbers+=" , "+h}console.log(this.form.seat_numbers),console.log(this.seat_details)},async createBustype(){try{if(this.submitted=!0,this.$v.$touch(),this.$v.$invalid)return;const t=await n["g"].create(this.form);t.status&&(this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}),setTimeout(()=>this.$router.push({path:"/buslayouts"}),3e3))}catch(t){this.$toast.open({message:t,type:"error",position:"top-right",duration:5e3})}}}},m=u,_=(e("9d13"),e("2877")),f=Object(_["a"])(m,o,r,!1,null,"860c52a8",null),p=f.exports,v={name:"buslayoutcreate",data(){return{formtype:!1,breadcrumbs:{title:"Create vehicle layout",b1:"Manage vehicle layouts",b2:"Vehicle layouts",b3:"Index",link:!0,name:"buslayouts"}}},components:{Breadcrumb:l["a"],createForm:p}},b=v,h=Object(_["a"])(b,a,i,!1,null,"45c9dbe0",null);s["default"]=h.exports},"9d13":function(t,s,e){"use strict";e("dd9a")},dd9a:function(t,s,e){}}]);
//# sourceMappingURL=chunk-327b4610.19789c22.js.map