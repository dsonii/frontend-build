(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e256fbae"],{"8a49":function(t,a,o){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",[a("b-tabs",{attrs:{pills:"","content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Booking Details",active:""}},[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"4"}},[t._v("PNR No")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.pnr_no))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Date / Time")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" "+t._s(t.dateConvert(t.modalData.booking_date,t.dateFormat.value))+" "),a("br"),t._v(" "+t._s(t.modalData.start_time)+" - "+t._s(t.modalData.drop_time)+" ")])]),a("b-col",{attrs:{cols:"4"}},[t._v("Stops / Route")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" "+t._s(t.modalData.location.pickup_location)+" - "+t._s(t.modalData.location.drop_location)+" "),a("br"),t._v(" from "),a("b",[t._v(t._s(t.modalData.location.route_name))])])]),a("b-col",{attrs:{cols:"4"}},[t._v("Vehicle")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" Name : "+t._s(t.modalData.bus_reg_no)),a("br"),t._v(" Model Number : "+t._s(t.modalData.bus_model_no)),a("br"),t._v(" Plate/Registration Number : "+t._s(t.modalData.bus_reg_no)+" "),a("br"),t._v(" Type : "+t._s(t.modalData.bus_type_name)),a("br"),t._v(" Layout Name : "+t._s(t.modalData.bus_layout_name)),a("br"),t._v(" Layout : "+t._s(t.layoutName(t.modalData.bus_layout_layout))+" ")])]),a("b-col",{attrs:{cols:"4"}},[t._v("Is Pass")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.is_pass))])]),"Yes"===t.modalData.is_pass?a("b-col",{attrs:{cols:"4"}},[t._v("No of Pass")]):t._e(),"Yes"===t.modalData.is_pass?a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.no_of_pass))])]):t._e(),a("b-col",{attrs:{cols:"4"}},[t._v("Total Passengers")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.passengers))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Seat Number")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.seat_nos.toString()))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Travel status")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.travel_status))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Created By")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" "+t._s(t.dateConvert(t.modalData.createdAt,`${t.dateFormat.value} ${t.timeFormat.value}`))+" ")])])],1)],1)],1),a("b-tab",{attrs:{title:"Passenger Details"}},[a("b-table",{attrs:{striped:"",hover:"",items:t.modalData.passenger_details}})],1),a("b-tab",{attrs:{title:"Payment Details"}},[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"4"}},[t._v("Payment Status")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.payment_status))])]),a("b-col",{attrs:{cols:"4"}},[t._v("OrderID")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.orderId))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Method")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.modalData.payment_details.method))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Payment created")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" "+t._s(t.dateConvert(t.modalData.payment_details.payment_created_date,`${t.dateFormat.value} ${t.timeFormat.value}`))+" ")])]),a("b-col",{attrs:{cols:"4"}},[t._v("Sub Total")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.defaultCurrency)+t._s(t.modalData.sub_total))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Tax ("+t._s(t.modalData.tax)+"%)")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.defaultCurrency)+t._s(t.modalData.tax_amount))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Fee")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.defaultCurrency)+t._s(t.modalData.fee))])]),a("b-col",{attrs:{cols:"4"}},[t._v("Total (round off)")]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(" "+t._s(t.defaultCurrency)+t._s(t.modalData.payment_details.amount)+" ")])])],1)],1)],1)],1)],1)},e=[],l=o("be92"),r=o("83a3"),i=o("a2b6"),n={name:"modelView",props:["modalData"],computed:{...Object(l["e"])(r["a"],["dateFormat","timeFormat","defaultCurrency"])},methods:{dateConvert(t,a){return Object(i["a"])(t,a)},layoutName(t){return"layout-1"==t?"1 X 1":"layout-2"==t?"1 X 2":"layout-3"==t?"2 X 1":"layout-4"==t?"2 X 2":"layout-5"==t?"2 X 3":"layout-6"==t?"3 X 2":void 0}}},_=n,c=o("2877"),d=Object(c["a"])(_,s,e,!1,null,null,null);a["a"]=d.exports},e443:function(t,a,o){"use strict";o.r(a);var s=function(){var t=this,a=t._self._c;return a("div",[a("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"total-rows":t.total_rows,classes:t.classes,"show-loader":t.showLoader},on:{"refresh-data":t.onRefreshData,"on-change-query":t.onChangeQuery},scopedSlots:t._u([{key:"location",fn:function(o){return[a("b",[t._v("Route Name :")]),t._v(" "+t._s(o.row.location.route_name)+" "),a("br"),a("b",[t._v(" Pickup :")]),t._v(" "+t._s(o.row.location.pickup_location)),a("br"),a("b",[t._v(" Dropoff:")]),t._v(" "+t._s(o.row.location.drop_location)+" ")]}},{key:"date_time",fn:function(o){return[t._v(" "+t._s(t.dateFormated(o.row.booking_date,t.dateFormat.value))+" "),a("br"),a("small",[t._v(t._s(o.row.start_time)+" - "+t._s(o.row.drop_time))]),t._v("` ")]}},{key:"stopping_points",fn:function(o){return[a("span",[a("small",[t._v(t._s(o.row.location.pickup_location))]),t._v(" - "),a("small",[t._v(" "+t._s(o.row.location.drop_location))])]),a("br"),a("small",[t._v("from "),a("b",[t._v(t._s(o.row.location.route_name))])])]}},{key:"payment_status",fn:function(o){return["payment_status"==o.column.name?a("span",["Completed"==o.row.payment_status?a("b-badge",{attrs:{variant:"success"}},[t._v("Completed")]):"Processing"==o.row.payment_status?a("b-badge",{attrs:{variant:"warning"}},[t._v("Processing")]):"Pending"==o.row.payment_status?a("b-badge",{attrs:{variant:"info"}},[t._v("Pending")]):"Failed"==o.row.payment_status?a("b-badge",{attrs:{variant:"danger"}},[t._v("Failed")]):t._e()],1):t._e()]}},{key:"action",fn:function(o){return["action"!=o.column.name||"COMPLETED"!==t.travel_status&&"ONBOARDED"!==t.travel_status&&"SCHEDULED"!==t.travel_status?a("span",[t._v("-")]):a("span",[a("b-button",{attrs:{variant:"outline-dark",size:"sm"},on:{click:function(a){return t.viewRow(o.row)}}},[a("i",{staticClass:"mdi mdi-eye"}),t._v(" Details")])],1)]}}])},[a("template",{slot:"card-header"},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("p",{staticClass:"float-left"},[t._v(" Customer Name : "+t._s(t.customer_details.firstname)+" "+t._s(t.customer_details.lastname)+" ")])]),a("b-col",{attrs:{cols:"6"}},[a("p",{staticClass:"float-right"},[t._v(" Customer Phone : +"+t._s(t.customer_details.country_code)+" "+t._s(t.customer_details.phone)+" ")])])],1)],1),a("template",{slot:"vbt-action-buttons"},[a("b-row",[a("b-col",{attrs:{md:"5",sm:"5",lg:"5"}}),a("b-col",{attrs:{md:"4",sm:"5",lg:"4"}},[a("label",[t._v("Booking Status Filters :")]),a("b-form-select",{attrs:{label:"Booking Status Filters :",options:t.optionStatus,size:"md"},on:{change:t.loadItems},model:{value:t.travel_status,callback:function(a){t.travel_status=a},expression:"travel_status"}})],1)],1)],1)],2),a("b-modal",{ref:"myModalRefBookingHistory",attrs:{size:"xl","ok-title":t.modaloktitle},on:{hidden:t.hideModal,ok:t.handleOk}},[1==t.modalView?a("span",[a("modalView",{attrs:{modalData:t.modalData}})],1):t._e()])],1)},e=[],l=o("dde5"),r=o("12f9"),i=o("be92"),n=o("83a3"),_=o("a2b6"),c=o("8a49"),d={data(){return{optionStatus:[{text:"Completed",value:"COMPLETED"},{text:"Scheduled",value:"SCHEDULED"},{text:"Onboarded",value:"ONBOARDED"},{text:"Expired",value:"EXPIRED"},{text:"Cancelled",value:"CANCELLED"},{text:"Processing",value:"PROCESSING"}],rows:[],columns:[{label:"PNR",name:"pnr_no",sort:!0},{label:"Date/Time",name:"date_time",sort:!0},{label:"Stop/Route",name:"stopping_points",sort:!0},{label:"Vehicle Name",name:"bus_name",sort:!0},{label:"Total Passengers",name:"passengers",sort:!0},{label:"Total Fare",name:"final_total_fare",sort:!0},{label:"Action",name:"action",sort:!1}],config:{server_mode:!0,loaderText:"Updating...",pagination:!0,global_search:{placeholder:"Enter search customer histories",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:1e3},per_page_options:[10,20,30,50,100],highlight_row_hover_color:"silver",highlight_row_hover:!0,card_mode:!0},dropdowns:[],classes:{table:"table-bordered table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},sortType:"desc",sortBy:"createdAt",travel_status:"COMPLETED",total_rows:0,showLoader:!0,modalView:!1,modalData:{},modaloktitle:"",customer_details:{}}},components:{VueBootstrap4Table:r["a"],ModalView:c["a"]},computed:{...Object(i["e"])(n["a"],["dateFormat","timeFormat"])},methods:{dateFormated(t,a){return Object(_["a"])(t,a)},viewRow(t){this.title="Customer Booking History Details",this.modalView=!0,this.modalEdit=!1,this.modaloktitle="Ok",this.$refs.myModalRefBookingHistory.show(),this.modalData=t},hideModal(){this.$refs.myModalRefBookingHistory.hide(),this.modalEdit=!1,this.modalView=!1},handleOk(){this.$refs.myModalRefBookingHistory.hide(),this.modalEdit=!1,this.modalView=!1},loadItems(){this.showLoader=!0,this.queryParams.travel_status=this.travel_status,this.queryParams.sortType=this.sortType,this.queryParams.sortBy=this.sortBy,l["k"].bookingHistory(this.$route.params.userId,this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.bookinghistories,this.showLoader=!1,this.customer_details=t.data.customer_details})},onRefreshData(){this.showLoader=!0,this.loadItems()},onChangeQuery(t){t.travel_status=this.travel_status,t.sortType=this.sortType,t.sortBy=this.sortBy,this.queryParams=t,this.showLoader=!0,this.loadItems()}},mounted(){this.loadItems()}},m=d,u=o("2877"),b=Object(u["a"])(m,s,e,!1,null,"5f9a9304",null);a["default"]=b.exports}}]);
//# sourceMappingURL=chunk-e256fbae.4bc12922.js.map