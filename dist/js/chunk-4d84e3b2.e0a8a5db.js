(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d84e3b2"],{"19cf":function(t,e,a){"use strict";var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("ul",[e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.b1))])]),e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.title))])])])])])])},s=[],r={name:"breadcrumb",props:["breadcrumbs"]},n=r,i=(a("2c06"),a("2877")),l=Object(i["a"])(n,o,s,!1,null,"7cf2419e",null);e["a"]=l.exports},"2c06":function(t,e,a){"use strict";a("526f")},"526f":function(t,e,a){},e276:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("section",{staticClass:"tables"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",{staticClass:"col-lg-12 grid-margin stretch-card"},[e("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"total-rows":t.total_rows,classes:t.classes,"show-loader":t.showLoader},on:{"on-change-query":t.onChangeQuery,"refresh-data":t.onRefreshData},scopedSlots:t._u([{key:"description",fn:function(a){return[e("p",{staticClass:"text-sm-left text-justify",domProps:{innerHTML:t._s(a.row.description)}})]}},{key:"action",fn:function(a){return["action"==a.column.name?e("span",[e("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-left",text:"Actions",variant:"outline-info"}},[e("b-dropdown-item",{on:{click:function(e){return t.viewRow(a.row)}}},[e("span",{staticClass:"text-dark"},[e("i",{staticClass:"mdi mdi-eye"}),t._v(" View ")])]),e("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.bv-modal-reply",modifiers:{"bv-modal-reply":!0}}],on:{click:function(e){return t.currentReply(a.row)}}},[e("span",{staticClass:"text-primary"},[e("i",{staticClass:"mdi mdi-pencil"}),t._v(" reply ")])]),e("b-dropdown-item",{on:{click:function(e){return e.stopPropagation(),t.deleteRow(a.row.ids)}}},[e("span",{staticClass:"text-danger"},[e("i",{staticClass:"mdi mdi-delete"}),t._v(" Delete ")])])],1)],1):t._e()]}}])},[e("template",{slot:"refresh-button-text"},[e("i",{staticClass:"mdi mdi-sync-alert"}),t._v(" Refresh ")]),e("template",{slot:"reset-button-text"},[e("i",{staticClass:"mdi mdi-broom"}),t._v(" Reset filters ")]),e("template",{slot:"paginataion-previous-button"},[t._v(" Previous ")]),e("template",{slot:"paginataion-next-button"},[t._v(" Next ")]),e("template",{slot:"vbt-action-buttons"},[e("div",{staticClass:"btn-group float-right",attrs:{role:"group","aria-label":"Basic example"}},[e("download-excel",{staticClass:"btn btn-success",attrs:{data:t.excelDownload,name:t.excelName}},[t._v(" Excel "),e("i",{staticClass:"mdi mdi-file-excel-box"})])],1)])],2),e("ReplyModel",{attrs:{titlemodal:"Reply",reply:t.reply}}),e("b-modal",{ref:"myModalRefSupport",attrs:{size:"xl","ok-title":t.modaloktitle},on:{hidden:t.hideModal,ok:t.handleOk}},[1==t.modalView?e("span",[e("ViewModal",{attrs:{modalData:t.modalData}})],1):t._e()])],1)])])},s=[],r=a("dde5"),n=a("19cf"),i=function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{ref:"modal",attrs:{centered:"",id:"bv-modal-reply"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" "+t._s(t.titlemodal)+" : Ticket no("+t._s(t.reply.ticket_no)+")")]},proxy:!0}])},[e("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("input",{attrs:{type:"hidden",reply:t.reply.ids}}),e("b-form-group",{attrs:{label:"TItle","label-for":"title-input","invalid-feedback":"Title is required",state:t.titleState}},[e("b-form-input",{attrs:{id:"name-input",state:t.titleState,required:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("b-form-group",{attrs:{label:"Content","label-for":"content-input","invalid-feedback":"Content is required",state:t.contentState}},[e("b-form-textarea",{attrs:{id:"content-input",rows:"5","max-rows":"10",size:"lg",state:t.contentState,required:""},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)])],1)},l=[],d=a("3b25"),c=a("be92"),u=a("370e"),p={name:"replymodal",props:["titlemodal","reply"],data(){return{titleState:null,contentState:null,helperId:"",form:{title:"",content:"",type:"notification",email:""}}},computed:{...Object(c["e"])(u["a"],["getUser"])},methods:{checkFormValidity(){const t=this.$refs.form.checkValidity();return this.titleState=t,this.contentState=t,t},resetModal(){this.form.title="",this.titleState=null,this.form.content="",this.contentState=null},init(){this.helperId=this.reply.ids,this.form.email=this.reply.email},handleOk(t){t.preventDefault(),this.handleSubmit()},async handleSubmit(){if(!this.checkFormValidity())return;this.form.adminId=this.getUser.id;const t=await d["a"].update(this.helperId,this.form);t.status?(this.$toast.open({message:t.message,type:"success",position:"top-right",duration:2e3}),this.$nextTick(()=>{this.$bvModal.hide("bv-modal-reply")})):(this.$swal.fire("Failed!",t.message,"danger"),this.$toast.open({message:t.message,type:"danger",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems(),this.$nextTick(()=>{this.$bvModal.hide("bv-modal-reply")}))}},watch:{reply:function(){this.init()}}},h=p,m=a("2877"),f=Object(m["a"])(h,i,l,!1,null,null,null),b=f.exports,y=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("Ticket Number")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.ticket_no)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Firstname")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.firstname)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Lastname")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.lastname)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Email")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.email)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Mobile Number")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.phone)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Description")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.description)+" ")]),e("b-col",{attrs:{cols:"4"}},[t._v("Created At")]),e("b-col",{attrs:{cols:"8"}},[t._v(t._s(t.modalData.createdAt))])],1)],1)],1)])},v=[],w=a("7f45"),g=a.n(w),x={name:"modelView",props:["modalData"],methods:{dateConvert(t){return g.a.utc(t).tz("Asia/Kolkata").format("LLL")}}},_=x,k=Object(m["a"])(_,y,v,!1,null,null,null),C=k.exports,S=a("12f9"),R=a("f2d9"),$={name:"HelpAndSupport",data(){return{reply:{},breadcrumbs:{title:"Help & Support Lists",b1:"Manage Help & Supports",b2:"Help & Supports",b3:"Index",link:!1,name:"Help & Support lists"},showLoader:!1,columns:[{label:"Ticket",name:"ticket_no",sort:!0,uniqueId:!0},{label:"First Name",name:"firstname",sort:!0},{label:"Last Name",name:"lastname",sort:!0},{label:"Email",name:"email",sort:!0},{label:"Phone",name:"phone",sort:!0},{label:"Description",name:"description_short",sort:!0},{label:"CreatedAt",name:"createdAt"},{label:"Action",name:"action",sort:!1}],rows:[],config:{server_mode:!0,loaderText:"Updating...",pagination:!0,global_search:{placeholder:"Enter search help and support",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:1e3},per_page_options:[10,20,30,50,100],highlight_row_hover_color:"silver",card_mode:!0},dropdowns:[],classes:{table:"table-bordered table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},total_rows:0,modalEdit:!1,modalView:!1,modalData:{},modaloktitle:""}},components:{VueBootstrap4Table:S["a"],Breadcrumb:n["a"],ReplyModel:b,ViewModal:C,downloadExcel:R["a"]},computed:{excelDownload(){return r["m"].tranform(this.rows)},excelName(){return this.breadcrumbs.title+"_"+g()().local().unix()}},methods:{viewRow(t){this.title="Help and Support Details",this.modalView=!0,this.modalEdit=!1,this.modaloktitle="Ok",this.$refs.myModalRefSupport.show(),this.modalData=t},hideModal(){this.$refs.myModalRefSupport.hide(),this.modalEdit=!1,this.modalView=!1},handleOk(){this.$refs.myModalRefSupport.hide(),this.modalEdit=!1,this.modalView=!1},currentReply(t){this.reply=t},deleteRow(t){try{this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&r["m"].deleteHelper(t).then(t=>{"object"===typeof t.data&&403===t.data.status?(this.$swal.fire(t.data.message,"","error"),this.$toast.open({message:t.data.message,type:"error",position:"top-right",duration:3e3}),this.showLoader=!1):t.status&&(this.$swal.fire("Deleted!",t.message,"success"),this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems())})})}catch(e){this.$toast.open({message:e,type:"error",position:"top-right",duration:3e3})}},onChangeQuery(t){this.queryParams=t,this.showLoader=!0,this.loadItems()},onRefreshData(){this.showLoader=!0,this.loadItems()},loadItems(){r["m"].getAll(this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.helpers,this.showLoader=!1})}},mounted(){this.loadItems()}},D=$,T=Object(m["a"])(D,o,s,!1,null,"04e3bb22",null);e["default"]=T.exports},f2d9:function(t,e,a){"use strict";(function(t){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function a(t,e){return e={exports:{}},t(e,e.exports),e.exports}var o=a((function(t,e){(function(e,a){t.exports=a()})(0,(function(){return function t(e,a,o){var s,r,n=window,i="application/octet-stream",l=o||i,d=e,c=!a&&!o&&d,u=document.createElement("a"),p=function(t){return String(t)},h=n.Blob||n.MozBlob||n.WebKitBlob||p,m=a||"download";if(h=h.call?h.bind(n):Blob,"true"===String(this)&&(d=[d,l],l=d[0],d=d[1]),c&&c.length<2048&&(m=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var f=new XMLHttpRequest;return f.open("GET",c,!0),f.responseType="blob",f.onload=function(e){t(e.target.response,m,i)},setTimeout((function(){f.send()}),0),f}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&h!==p))return navigator.msSaveBlob?navigator.msSaveBlob(w(d),m):g(d);d=w(d),l=d.type||i}else if(/([\x80-\xff])/.test(d)){var b=0,y=new Uint8Array(d.length),v=y.length;for(b;b<v;++b)y[b]=d.charCodeAt(b);d=new h([y],{type:l})}function w(t){var e=t.split(/[:;,]/),a=e[1],o="base64"==e[2]?atob:decodeURIComponent,s=o(e.pop()),r=s.length,n=0,i=new Uint8Array(r);for(n;n<r;++n)i[n]=s.charCodeAt(n);return new h([i],{type:a})}function g(t,e){if("download"in u)return u.href=t,u.setAttribute("download",m),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){n.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var a=document.createElement("iframe");document.body.appendChild(a),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)),a.src=t,setTimeout((function(){document.body.removeChild(a)}),333)}if(s=d instanceof h?d:new h([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(s,m);if(n.URL)g(n.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===p)try{return g("data:"+l+";base64,"+n.btoa(s))}catch(x){return g("data:"+l+","+encodeURIComponent(s))}r=new FileReader,r.onload=function(t){g(this.result)},r.readAsDataURL(s)}return!0}}))})),s={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var t=(new Date).getTime();return"export_"+t},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let t=this.data;if("function"!==typeof this.fetch&&t||(t=await this.fetch()),!t||!t.length)return;let e=this.getProcessedJson(t,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(t,e,a){let s=this.base64ToBlob(t,a);"function"===typeof this.beforeFinish&&await this.beforeFinish(),o(s,e,a)},jsonToXLS(t){let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',a="<thead>";const o=Object.keys(t[0]).length;let s=this;const r=this.header||this.$attrs.title;r&&(a+=this.parseExtraData(r,'<tr><th colspan="'+o+'">${data}</th></tr>')),a+="<tr>";for(let n in t[0])a+="<th>"+n+"</th>";return a+="</tr>",a+="</thead>",a+="<tbody>",t.map((function(t,e){a+="<tr>";for(let o in t)a+="<td>"+s.preprocessLongNum(s.valueReformattedForMultilines(t[o]))+"</td>";a+="</tr>"})),a+="</tbody>",null!=this.footer&&(a+="<tfoot>",a+=this.parseExtraData(this.footer,'<tr><td colspan="'+o+'">${data}</td></tr>'),a+="</tfoot>"),e.replace("${table}",a).replace("${worksheet}",this.worksheet)},jsonToCSV(t){let e=this;var a=[];const o=this.header||this.$attrs.title;o&&a.push(this.parseExtraData(o,"${data}\r\n"));for(let s in t[0])a.push(s),a.push(",");return a.pop(),a.push("\r\n"),t.map((function(t){for(let o in t){let s=t[o]+"";e.escapeCsv&&(s='="'+s+'"',s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"')),a.push(s),a.push(",")}a.pop(),a.push("\r\n")})),null!=this.footer&&a.push(this.parseExtraData(this.footer,"${data}\r\n")),a.join("")},getProcessedJson(t,e){let a=this.getKeys(t,e),o=[],s=this;return t.map((function(t,e){let r={};for(let o in a){let e=a[o];r[o]=s.getValue(e,t)}o.push(r)})),o},getKeys(t,e){if(e)return e;let a={};for(let o in t[0])a[o]=o;return a},parseExtraData(t,e){let a="";if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]&&(a+=e.replace("${data}",t[o]));else a+=e.replace("${data}",t);return a},getValue(t,e){const a="object"!==typeof t?t:t.field;let o="string"!==typeof a?[]:a.split("."),s=this.defaultValue;return s=a?o.length>1?this.getValueFromNestedItem(e,o):this.parseValue(e[a]):e,t.hasOwnProperty("callback")&&(s=this.getValueFromCallback(s,t.callback)),s},valueReformattedForMultilines(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem(t,e){let a=t;for(let o of e)a&&(a=a[o]);return this.parseValue(a)},getValueFromCallback(t,e){if("function"!==typeof e)return this.defaultValue;const a=e(t);return this.parseValue(a)},parseValue(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob(t,e){let a=window.btoa(window.unescape(encodeURIComponent(t))),o=atob(a),s=o.length,r=new Uint8ClampedArray(s);while(s--)r[s]=o.charCodeAt(s);return new Blob([r],{type:e})}}};function r(t,e,a,o,s,r,n,i,l,d){"boolean"!==typeof n&&(l=i,i=n,n=!1);var c,u="function"===typeof a?a.options:a;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),o&&(u._scopeId=o),r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=c):e&&(c=n?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),c)if(u.functional){var p=u.render;u.render=function(t,e){return c.call(e),p(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return a}var n=r;const i=s;var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.idName},on:{click:t.generate}},[t._t("default",[t._v(" Download "+t._s(t.name)+" ")])],2)},d=[];l._withStripped=!0;const c=void 0,u=void 0,p=void 0,h=!1;var m=n({render:l,staticRenderFns:d},c,i,u,h,p,void 0,void 0);e["a"]=m}).call(this,a("c8ba"))}}]);
//# sourceMappingURL=chunk-4d84e3b2.e0a8a5db.js.map