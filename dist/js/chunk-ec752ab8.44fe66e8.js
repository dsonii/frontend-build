(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec752ab8"],{"0bd4":function(t,e,a){"use strict";a("c1f2")},"9a0e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",{staticClass:"col-lg-12"},[e("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"total-rows":t.total_rows,classes:t.classes,"show-loader":t.showLoader},on:{"refresh-data":t.onRefreshData,"on-change-query":t.onChangeQuery},scopedSlots:t._u([{key:"fullname",fn:function(a){return[e("div",{staticClass:"d-flex align-items-center"},[e("b-avatar",{staticClass:"mr-2",attrs:{variant:"primary",src:a.row.ProfilePic}}),e("span",{staticClass:"mr-auto"},[t._v(t._s(a.row.fullname)),e("br"),t._v(t._s(a.row.email))])],1)]}},{key:"status",fn:function(a){return["status"==a.column.name?e("span",["Active"==a.row.status?e("b-badge",{attrs:{variant:"success"}},[t._v("Active")]):t._e(),"Inactive"==a.row.status?e("b-badge",{attrs:{variant:"danger"}},[t._v("Inactive")]):t._e()],1):t._e()]}},{key:"createdAt",fn:function(e){return[t._v(" "+t._s(t.dateFormated(e.row.createdAt,t.dateFormat.value))+" ")]}},{key:"payment_status",fn:function(a){return["payment_status"==a.column.name?e("span",["Completed"==a.row.payment_status?e("b-badge",{attrs:{variant:"success"}},[t._v("Completed")]):"Processing"==a.row.payment_status?e("b-badge",{attrs:{variant:"warning"}},[t._v("Processing")]):"Pending"==a.row.payment_status?e("b-badge",{attrs:{variant:"info"}},[t._v("Pending")]):"Failed"==a.row.payment_status?e("b-badge",{attrs:{variant:"danger"}},[t._v("Failed")]):t._e()],1):t._e()]}},{key:"action",fn:function(a){return["action"==a.column.name?e("span",[e("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-left",text:"Actions",variant:"outline-info"}},[e("b-dropdown-item",{on:{click:function(e){return t.viewRow(a.row)}}},[e("span",{staticClass:"text-dark"},[e("i",{staticClass:"mdi mdi-eye"}),t._v(" View ")])]),e("b-dropdown-item",{attrs:{href:"#/customer-wallet-history/"+a.row.ids+"/"+a.row.walletId}},[e("span",{staticClass:"text-info"},[e("i",{staticClass:"mdi mdi-wallet"}),t._v(" Trans History ")])]),e("b-dropdown-item",{attrs:{href:"#/customer-booking-history/"+a.row.ids}},[e("span",{staticClass:"text-primary"},[e("i",{staticClass:"mdi mdi-account-card-details"}),t._v(" Booking History ")])]),e("b-dropdown-item",{attrs:{href:"#/customer/"+a.row.ids}},[e("span",{staticClass:"text-primary"},[e("i",{staticClass:"mdi mdi-pencil"}),t._v(" Edit ")])]),e("b-dropdown-item",{on:{click:function(e){return e.stopPropagation(),t.deleteRow(a.row.ids,a.row.fullname)}}},[e("span",{staticClass:"text-danger"},[e("i",{staticClass:"mdi mdi-delete"}),t._v(" Delete ")])])],1)],1):t._e()]}}])},[e("template",{slot:"global-search-clear-icon"},[e("i",{staticClass:"mdi mdi-account-search"})]),e("template",{slot:"refresh-button-text"},[e("i",{staticClass:"mdi mdi-sync-alert"}),t._v(" Refresh ")]),e("template",{slot:"reset-button-text"},[e("i",{staticClass:"mdi mdi-broom"}),t._v(" Reset filters ")]),e("template",{slot:"paginataion-previous-button"},[t._v(" Previous ")]),e("template",{slot:"paginataion-next-button"},[t._v(" Next ")]),e("template",{slot:"vbt-action-buttons"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"float-right"},[e("b-form",{attrs:{inline:""}},[e("label",{staticClass:"mr-2"},[t._v("Date Range Filter :")]),e("date-range-picker",{attrs:{"locale-data":{firstDay:1,format:"dd-mm-yyyy"}},on:{update:t.updateDateRange},model:{value:t.pickerDates,callback:function(e){t.pickerDates=e},expression:"pickerDates"}},[[t._v(t._s(t._f("date")(t.pickerDates.startDate))+" - "+t._s(t._f("date")(t.pickerDates.endDate)))]],2)],1)],1)]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"float-center"},[e("download-excel",{staticClass:"btn btn-success mr-5",attrs:{data:t.excelDownload,name:t.excelName}},[t._v(" Excel "),e("i",{staticClass:"mdi mdi-file-excel-box"})])],1)])])])],2),e("b-modal",{ref:"myModalRefCustomer",attrs:{size:"xl","ok-title":t.modaloktitle},on:{hidden:t.hideModal,ok:t.handleOk}},[1==t.modalView?e("span",[e("modalView",{attrs:{modalData:t.modalData}})],1):t._e()])],1)])])])},o=[],r=(a("14d9"),a("0643"),a("4e3e"),a("dde5")),i=a("19cf"),l=a("12f9"),n=a("f2d9"),d=a("7f45"),c=a.n(d),m=a("bbf5"),u=a.n(m),h=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("table",{staticClass:"table table-bordered table-striped styledClass"},[t._m(0),e("tr",[e("td",[e("b-img",{staticClass:"img-fluid",attrs:{width:"50",height:"50",src:t.modalData.ProfilePic}})],1),e("td",[t._v(t._s(t.modalData.company))]),e("td",[t._v(t._s(t.modalData.customer_code))]),e("td",[t._v(t._s(t.modalData.fullname))]),e("td",[t._v(t._s(t.modalData.gender))]),e("td",[t._v(t._s(t.modalData.email))]),e("td",[t._v("+"+t._s(t.modalData.country_code)+t._s(t.modalData.phone))]),e("td",[t._v(t._s(t.modalData.status))]),e("td",[t._v(t._s(t.modalData.created_by))])])])])])},p=[function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("Profile Picture")]),e("td",[t._v("Company Name")]),e("td",[t._v("Customer Code")]),e("td",[t._v("Full Name")]),e("td",[t._v("Gender")]),e("td",[t._v("Email")]),e("td",[t._v("Phone")]),e("td",[t._v("Status")]),e("td",[t._v("Created By")])])}],w={name:"modelView",props:["modalData"],methods:{dateConvert(t){return c.a.utc(t).tz("Asia/Kolkata").format("LLL")}}},b=w,f=(a("0bd4"),a("2877")),_=Object(f["a"])(b,h,p,!1,null,null,null),v=_.exports,g=a("be92"),C=a("83a3"),y=a("a2b6"),D=(a("53b4"),{name:"customers",data(){let t=new Date,e=new Date;return e.setDate(e.getDate()+10),{breadcrumbs:{title:"Customer Lists",b1:"Manage Customers",b2:"Customers",b3:"Index",link:!1,name:"Customer lists"},columns:[{label:"Name",name:"fullname",sort:!0},{label:"Gender",name:"gender",sort:!0},{label:"Phone",name:"phone",sort:!0},{label:"Wallet",name:"wallet_balance",sort:!0},{label:"Referral",name:"refercode",sort:!0},{label:"Status",name:"status",sort:!0},{label:"CreatedAt",name:"createdAt",sort:!0},{label:"Action",name:"action",sort:!1}],rows:[],pickerDates:{startDate:t,endDate:e},config:{server_mode:!0,loaderText:"Updating...",pagination:!0,global_search:{placeholder:"Enter search offers",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:1e3},per_page_options:[10,20,30,50,100],highlight_row_hover_color:"silver",highlight_row_hover:!0,card_mode:!0},dropdowns:[],classes:{table:"table-bordered table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},total_rows:0,form:{id:"",name:"",slug:"",createdAt:""},showLoader:!1,modalEdit:!1,modalView:!1,modalData:{},modaloktitle:""}},components:{VueBootstrap4Table:l["a"],Breadcrumb:i["a"],downloadExcel:n["a"],DateRangePicker:u.a,modalView:v},filters:{date(t){return new Intl.DateTimeFormat("en-US").format(t)}},computed:{excelDownload(){return r["k"].tranform(this.rows)},excelName(){return this.breadcrumbs.title+"_"+c()().local().unix()},user(){return this.$store.state.auth.user},...Object(g["e"])(C["a"],["dateFormat"])},methods:{dateFormated(t,e){return Object(y["a"])(t,e)},viewRow(t){this.title="Customer Details",this.modalView=!0,this.modalEdit=!1,this.modaloktitle="Ok",this.$refs.myModalRefCustomer.show(),this.modalData=t},hideModal(){this.$refs.myModalRefCustomer.hide(),this.modalEdit=!1,this.modalView=!1},handleOk(){this.$refs.myModalRefCustomer.hide(),this.modalEdit=!1,this.modalView=!1},onRefreshData(){this.showLoader=!0,this.loadItems()},onChangeQuery(t){this.queryParams=t,this.showLoader=!0,this.loadItems()},updateDateRange(t){this.queryParams.filters={type:"date",value:{startDate:t.startDate,endDate:t.endDate}},r["k"].getAll(this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.users,this.showLoader=!1})},loadItems(){r["k"].getAll(this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.users,this.showLoader=!1})},async deleteRow(t,e){try{this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert all wallet and booking details of "+e+"!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed?r["k"].deleteUser(t).then(t=>{console.log("response",t,"result",e),t.status?(this.$swal.fire("Deleted!",t.message,"success"),this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems()):(this.$swal.fire("Not Deleted ",t.message,"error"),this.showLoader=!0,this.loadItems())}):(this.$swal.fire("Cancelled ","","error"),this.showLoader=!0,this.loadItems())})}catch(a){this.$toast.open({message:a,type:"error",position:"top-right",duration:5e3})}},enableDropdowns(){this.$el.querySelectorAll('[data-toggle="dropdown"]').forEach(t=>{const e=t.nextElementSibling;let a=!1;function s(t){a=t,e.classList.toggle("show",a)}this.dropdowns.includes(e)||(this.dropdowns.push(e),t.addEventListener("click",t=>{t.preventDefault(),s(!a)}),e.addEventListener("click",t=>{t.preventDefault(),s(!1)}),e.clickOutsideEvent=a=>{const o=e===a.target||e.contains(a.target),r=t===a.target||t.contains(a.target);o||r||s(!1)},document.addEventListener("click",e.clickOutsideEvent))})}},mounted(){this.loadItems()},updated(){this.enableDropdowns()},destroyed(){this.dropdowns.forEach(t=>{document.removeEventListener("click",t.clickOutsideEvent)})}}),k=D,x=Object(f["a"])(k,s,o,!1,null,"26cc3f92",null);e["default"]=x.exports},c1f2:function(t,e,a){}}]);
//# sourceMappingURL=chunk-ec752ab8.44fe66e8.js.map