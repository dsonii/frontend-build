(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-158d7ba2"],{"19cf":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"level"},[t("div",{staticClass:"level-left"},[t("ul",[t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.b1))])]),t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.title))])])])])])])},r=[],i={name:"breadcrumb",props:["breadcrumbs"]},n=i,o=(a("2c06"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,"7cf2419e",null);t["a"]=c.exports},"2c06":function(e,t,a){"use strict";a("526f")},"3ec9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"tables"},[t("div",{staticClass:"row"},[t("Breadcrumb",{attrs:{breadcrumbs:e.breadcrumbs}}),t("div",{staticClass:"col-lg-12 stretch-card"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("b-form",{attrs:{if:e.formtype},on:{submit:function(t){return t.preventDefault(),e.createRole.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"Name","label-for":"name-input","label-cols-sm":"4","label-cols-lg":"5","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted&&e.$v.form.name.$error},attrs:{id:"name-input",type:"text",placeholder:"Enter Role Name",state:e.validateState("name")},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.submitted&&!e.$v.form.name.required?t("div",{staticClass:"invalid-feedback"},[e._v(" name is required ")]):e._e()],1),t("b-table",{attrs:{hover:"",bordered:"",items:e.items,fields:e.fields,"caption-top":"",responsive:"sm"},scopedSlots:e._u([{key:"table-caption",fn:function(){return[e._v("Set Permisson")]},proxy:!0},{key:"cell(create)",fn:function(a){return[t("b-form-checkbox",{on:{change:function(t){return e.changeResource(a.item.id,a.item.ids,a.item.name,a.item.create,"create")}},model:{value:a.item.create,callback:function(t){e.$set(a.item,"create",t)},expression:"data.item.create"}})]}},{key:"cell(read)",fn:function(a){return[t("b-form-checkbox",{on:{change:function(t){return e.changeResource(a.item.id,a.item.ids,a.item.name,a.item.read,"read")}},model:{value:a.item.read,callback:function(t){e.$set(a.item,"read",t)},expression:"data.item.read"}})]}},{key:"cell(update)",fn:function(a){return[t("b-form-checkbox",{on:{change:function(t){return e.changeResource(a.item.id,a.item.ids,a.item.name,a.item.update,"update")}},model:{value:a.item.update,callback:function(t){e.$set(a.item,"update",t)},expression:"data.item.update"}})]}},{key:"cell(delete)",fn:function(a){return[t("b-form-checkbox",{on:{change:function(t){return e.changeResource(a.item.id,a.item.ids,a.item.name,a.item.delete,"delete")}},model:{value:a.item.delete,callback:function(t){e.$set(a.item,"delete",t)},expression:"data.item.delete"}})]}}])}),t("b-form-group",{staticClass:"col-md-2 offset-md-6"},[t("b-button",{staticClass:"btn btn-lg btn-success text-center",attrs:{type:"submit"}},[e._v("Save")])],1)],1)],1)])])],1)])])},r=[],i=(a("14d9"),a("dde5")),n=a("19cf"),o=a("1dce"),c=a("b5ae"),l={name:"rolecreate",mixins:[o["validationMixin"]],data(){return{formtype:!1,breadcrumbs:{title:"Create Role",b1:"Manage role",b2:"Role",b3:"Index",link:!0,name:"role"},form:{id:"",name:"",resource_roles:[]},fields:[{key:"id",label:"S.No."},{key:"name",label:"Model title"},{key:"create",label:"can create"},{key:"read",label:"can read"},{key:"update",label:"can update"},{key:"delete",label:"can delete"}],items:[{}],submitted:!1}},components:{Breadcrumb:n["a"]},validations:{form:{name:{required:c["required"]}}},mounted(){this.loadResourceItems()},methods:{loadResourceItems(){i["w"].load().then(e=>{this.items=e.data})},validateState(e){const{$dirty:t,$error:a}=this.$v.form[e];return t?!a:null},changeResource(e,t,a,s,r){console.log("asdasdasd : ",e,t,a,s,r);const i=this.form.resource_roles;if(i.length>0){console.log("resourceroles.length",i.length);for(const t of i)t.id==e&&i.push({id:t.id,ids:t.ids,name:t.name,create:"create"===r&&s,read:"read"===r&&s,update:"update"===r&&s,delete:"delete"===r&&s})}else i.push({id:e,ids:t,name:a,create:"create"===r&&s,read:"read"===r&&s,update:"update"===r&&s,delete:"delete"===r&&s})},async createRole(){try{if(this.submitted=!0,this.$v.$touch(),this.$v.$invalid)return;const e=await i["x"].create(this.form);e.status&&(this.$toast.open({message:e.message,type:"success",position:"top-right",duration:3e3}),setTimeout(()=>this.$router.push({path:"/roles"}),1e3))}catch(e){this.$toast.open({message:e+"dfsdf",type:"error",position:"top-right",duration:5e3})}}}},d=l,m=a("2877"),u=Object(m["a"])(d,s,r,!1,null,"53a8bf4d",null);t["default"]=u.exports},"526f":function(e,t,a){}}]);
//# sourceMappingURL=chunk-158d7ba2.699bff10.js.map