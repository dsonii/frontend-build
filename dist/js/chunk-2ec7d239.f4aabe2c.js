(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ec7d239"],{"0e8a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"tables"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("Breadcrumb",{attrs:{breadcrumbs:e.breadcrumbs}})],1),t("div",{staticClass:"col-lg-12"},[t("vue-bootstrap4-table",{attrs:{rows:e.rows,columns:e.columns,config:e.config,"total-rows":e.total_rows,classes:e.classes,"show-loader":e.showLoader},on:{"on-change-query":e.onChangeQuery,"refresh-data":e.onRefreshData},scopedSlots:e._u([{key:"user",fn:function(a){return[t("div",{staticClass:"d-flex align-items-center"},[t("b-avatar",{staticClass:"mr-2",attrs:{variant:"primary",src:a.row.user.ProfilePic}}),t("span",{staticClass:"mr-auto"},[e._v(e._s(a.row.user.firstname)+" "+e._s(a.row.user.lastname)+" "),t("br"),e._v(" "+e._s(a.row.user.phone))])],1)]}},{key:"referral",fn:function(a){return[t("div",{staticClass:"d-flex align-items-center"},[t("b-avatar",{staticClass:"mr-2",attrs:{variant:"primary",src:a.row.referral.ProfilePic}}),t("span",{staticClass:"mr-auto"},[e._v(e._s(a.row.referral.firstname)+" "+e._s(a.row.referral.lastname)+" "),t("br"),e._v(" "+e._s(a.row.referral.phone))])],1)]}},{key:"createdAt",fn:function(t){return[e._v(" "+e._s(e.dateConvert(t.row.createdAt,`${e.dateFormat.value} ${e.timeFormat.value}`)))]}},{key:"payment_status",fn:function(a){return["payment_status"==a.column.name?t("span",["Completed"==a.row.payment_status?t("b-badge",{attrs:{variant:"success"}},[e._v("Completed")]):"Expired"==a.row.payment_status?t("b-badge",{attrs:{variant:"warning"}},[e._v("Processing")]):"Pending"==a.row.payment_status?t("b-badge",{attrs:{variant:"info"}},[e._v("Pending")]):"Failed"==a.row.payment_status?t("b-badge",{attrs:{variant:"danger"}},[e._v("Failed")]):e._e()],1):e._e()]}},{key:"action",fn:function(a){return["action"==a.column.name?t("span",[t("b-button",{attrs:{variant:"info",size:"xs",href:"#/referrals/"+a.row.user._id}},[t("span",{staticClass:"text-light"},[t("i",{staticClass:"mdi mdi-eye"}),e._v(" Details ")])])],1):e._e()]}}])},[t("template",{slot:"global-search-clear-icon"},[t("i",{staticClass:"mdi mdi-account-search"})]),t("template",{slot:"refresh-button-text"},[t("i",{staticClass:"mdi mdi-sync-alert"}),e._v(" Refresh ")]),t("template",{slot:"reset-button-text"},[t("i",{staticClass:"mdi mdi-broom"}),e._v(" Reset filters ")]),t("template",{slot:"paginataion-previous-button"},[e._v(" Previous ")]),t("template",{slot:"paginataion-next-button"},[e._v(" Next ")]),t("template",{slot:"vbt-action-buttons"},[t("div",{staticClass:"float-right"},[t("b-form",{attrs:{inline:""}},[t("download-excel",{staticClass:"btn btn-success mr-5",attrs:{data:e.excelDownload,name:e.excelName}},[e._v(" Excel "),t("i",{staticClass:"mdi mdi-file-excel-box"})])],1)],1)])],2)],1)])])])},s=[],n=(a("14d9"),a("0643"),a("4e3e"),a("dde5")),o=a("19cf"),i=a("12f9"),l=a("f2d9"),c=a("7f45"),d=a.n(c),u=a("be92"),f=a("83a3"),h=a("a2b6"),p={name:"referrals",data(){return{breadcrumbs:{title:"Referral Lists",b1:"Manage Referrals",b2:"Referrals",b3:"Index",link:!1,name:"Referral lists"},columns:[{label:"Customer Name",name:"user",sort:!0},{label:"Referral Name",name:"referral",sort:!0},{label:"Income Earned",name:"amount",sort:!0},{label:"status",name:"payment_status",sort:!0},{label:"Created At",name:"createdAt",sort:!0},{label:"Action",name:"action",sort:!1}],rows:[],config:{server_mode:!0,loaderText:"Updating...",pagination:!0,global_search:{placeholder:"Enter search referral",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:5e3},per_page_options:[10,25,50,100],highlight_row_hover:!0,highlight_row_hover_color:"silver",card_mode:!0,preservePageOnDataChange:!0,show_refresh_button:!0},classes:{table:"table-bordered table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},total_rows:0,showLoader:!1,dropdowns:[]}},components:{VueBootstrap4Table:i["a"],downloadExcel:l["a"],Breadcrumb:o["a"]},computed:{excelDownload(){return n["v"].transform(this.rows)},excelName(){return"referrals_"+d()().local().unix()},user(){return this.$store.state.auth.user},...Object(u["e"])(f["a"],["dateFormat","timeFormat","defaultCurrency"])},methods:{dateConvert(e,t){return Object(h["a"])(e,t)},onChangeQuery(e){this.queryParams=e,this.showLoader=!0,this.loadItems()},onRefreshData(){this.showLoader=!0,this.loadItems()},loadItems(){n["v"].getAll(this.queryParams).then(e=>{this.total_rows=e.data.totalRecords,this.rows=e.data.referrals,this.showLoader=!1})},enableDropdowns(){this.$el.querySelectorAll('[data-toggle="dropdown"]').forEach(e=>{const t=e.nextElementSibling;let a=!1;function r(e){a=e,t.classList.toggle("show",a)}this.dropdowns.includes(t)||(this.dropdowns.push(t),e.addEventListener("click",e=>{e.preventDefault(),r(!a)}),t.addEventListener("click",e=>{e.preventDefault(),r(!1)}),t.clickOutsideEvent=a=>{const s=t===a.target||t.contains(a.target),n=e===a.target||e.contains(a.target);s||n||r(!1)},document.addEventListener("click",t.clickOutsideEvent))})}},mounted(){this.loadItems()},updated(){this.enableDropdowns()},destroyed(){this.dropdowns.forEach(e=>{document.removeEventListener("click",e.clickOutsideEvent)})}},m=p,b=a("2877"),v=Object(b["a"])(m,r,s,!1,null,"7b271907",null);t["default"]=v.exports},"19cf":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"level"},[t("div",{staticClass:"level-left"},[t("ul",[t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.b1))])]),t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.title))])])])])])])},s=[],n={name:"breadcrumb",props:["breadcrumbs"]},o=n,i=(a("2c06"),a("2877")),l=Object(i["a"])(o,r,s,!1,null,"7cf2419e",null);t["a"]=l.exports},"2c06":function(e,t,a){"use strict";a("526f")},"526f":function(e,t,a){},f2d9:function(e,t,a){"use strict";(function(e){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}var r=a((function(e,t){(function(t,a){e.exports=a()})(0,(function(){return function e(t,a,r){var s,n,o=window,i="application/octet-stream",l=r||i,c=t,d=!a&&!r&&c,u=document.createElement("a"),f=function(e){return String(e)},h=o.Blob||o.MozBlob||o.WebKitBlob||f,p=a||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(c=[c,l],l=c[0],c=c[1]),d&&d.length<2048&&(p=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var m=new XMLHttpRequest;return m.open("GET",d,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,i)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(w(c),p):y(c);c=w(c),l=c.type||i}else if(/([\x80-\xff])/.test(c)){var b=0,v=new Uint8Array(c.length),g=v.length;for(b;b<g;++b)v[b]=c.charCodeAt(b);c=new h([v],{type:l})}function w(e){var t=e.split(/[:;,]/),a=t[1],r="base64"==t[2]?atob:decodeURIComponent,s=r(t.pop()),n=s.length,o=0,i=new Uint8Array(n);for(o;o<n;++o)i[o]=s.charCodeAt(o);return new h([i],{type:a})}function y(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(s=c instanceof h?c:new h([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(s,p);if(o.URL)y(o.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===f)try{return y("data:"+l+";base64,"+o.btoa(s))}catch(_){return y("data:"+l+","+encodeURIComponent(s))}n=new FileReader,n.onload=function(e){y(this.result)},n.readAsDataURL(s)}return!0}}))})),s={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var e=(new Date).getTime();return"export_"+e},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let e=this.data;if("function"!==typeof this.fetch&&e||(e=await this.fetch()),!e||!e.length)return;let t=this.getProcessedJson(e,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(t),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(t),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(t),this.name,"application/vnd.ms-excel")},export:async function(e,t,a){let s=this.base64ToBlob(e,a);"function"===typeof this.beforeFinish&&await this.beforeFinish(),r(s,t,a)},jsonToXLS(e){let t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',a="<thead>";const r=Object.keys(e[0]).length;let s=this;const n=this.header||this.$attrs.title;n&&(a+=this.parseExtraData(n,'<tr><th colspan="'+r+'">${data}</th></tr>')),a+="<tr>";for(let o in e[0])a+="<th>"+o+"</th>";return a+="</tr>",a+="</thead>",a+="<tbody>",e.map((function(e,t){a+="<tr>";for(let r in e)a+="<td>"+s.preprocessLongNum(s.valueReformattedForMultilines(e[r]))+"</td>";a+="</tr>"})),a+="</tbody>",null!=this.footer&&(a+="<tfoot>",a+=this.parseExtraData(this.footer,'<tr><td colspan="'+r+'">${data}</td></tr>'),a+="</tfoot>"),t.replace("${table}",a).replace("${worksheet}",this.worksheet)},jsonToCSV(e){let t=this;var a=[];const r=this.header||this.$attrs.title;r&&a.push(this.parseExtraData(r,"${data}\r\n"));for(let s in e[0])a.push(s),a.push(",");return a.pop(),a.push("\r\n"),e.map((function(e){for(let r in e){let s=e[r]+"";t.escapeCsv&&(s='="'+s+'"',s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"')),a.push(s),a.push(",")}a.pop(),a.push("\r\n")})),null!=this.footer&&a.push(this.parseExtraData(this.footer,"${data}\r\n")),a.join("")},getProcessedJson(e,t){let a=this.getKeys(e,t),r=[],s=this;return e.map((function(e,t){let n={};for(let r in a){let t=a[r];n[r]=s.getValue(t,e)}r.push(n)})),r},getKeys(e,t){if(t)return t;let a={};for(let r in e[0])a[r]=r;return a},parseExtraData(e,t){let a="";if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&(a+=t.replace("${data}",e[r]));else a+=t.replace("${data}",e);return a},getValue(e,t){const a="object"!==typeof e?e:e.field;let r="string"!==typeof a?[]:a.split("."),s=this.defaultValue;return s=a?r.length>1?this.getValueFromNestedItem(t,r):this.parseValue(t[a]):t,e.hasOwnProperty("callback")&&(s=this.getValueFromCallback(s,e.callback)),s},valueReformattedForMultilines(e){return"string"==typeof e?e.replace(/\n/gi,"<br/>"):e},preprocessLongNum(e){if(this.stringifyLongNum){if(String(e).startsWith("0x"))return e;if(!isNaN(e)&&""!=e&&(e>99999999999||e<1e-13))return'="'+e+'"'}return e},getValueFromNestedItem(e,t){let a=e;for(let r of t)a&&(a=a[r]);return this.parseValue(a)},getValueFromCallback(e,t){if("function"!==typeof t)return this.defaultValue;const a=t(e);return this.parseValue(a)},parseValue(e){return e||0===e||"boolean"===typeof e?e:this.defaultValue},base64ToBlob(e,t){let a=window.btoa(window.unescape(encodeURIComponent(e))),r=atob(a),s=r.length,n=new Uint8ClampedArray(s);while(s--)n[s]=r.charCodeAt(s);return new Blob([n],{type:t})}}};function n(e,t,a,r,s,n,o,i,l,c){"boolean"!==typeof o&&(l=i,i=o,o=!1);var d,u="function"===typeof a?a.options:a;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),r&&(u._scopeId=r),n?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},u._ssrRegister=d):t&&(d=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,i(e))}),d)if(u.functional){var f=u.render;u.render=function(e,t){return d.call(t),f(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return a}var o=n;const i=s;var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.idName},on:{click:e.generate}},[e._t("default",[e._v(" Download "+e._s(e.name)+" ")])],2)},c=[];l._withStripped=!0;const d=void 0,u=void 0,f=void 0,h=!1;var p=o({render:l,staticRenderFns:c},d,i,u,h,f,void 0,void 0);t["a"]=p}).call(this,a("c8ba"))}}]);
//# sourceMappingURL=chunk-2ec7d239.f4aabe2c.js.map