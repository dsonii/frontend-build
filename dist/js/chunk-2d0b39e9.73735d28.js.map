{"version":3,"sources":["webpack:///./src/views/admin/offers/edit.vue","webpack:///src/views/admin/offers/edit.vue","webpack:///./src/views/admin/offers/edit.vue?b413","webpack:///./src/views/admin/offers/edit.vue?4a5c"],"names":["render","_vm","this","_c","_self","staticClass","attrs","breadcrumbs","_v","on","$event","preventDefault","updateOffer","apply","arguments","class","submitted","$v","form","name","$error","validateState","model","value","$model","callback","$$v","$set","trim","expression","required","_e","start_date","end_date","code","formatter","discount","attempt","picture","removeImage","onFileChange","type","routeoptions","changeRoute","route","routes","scopedSlots","_u","key","fn","proxy","routeId","terms","options","status","staticRenderFns","mixins","validationMixin","data","title","b1","b2","b3","link","isEditing","text","default","adminId","loading","validations","computed","mapState","fetchUsers","components","Breadcrumb","Datetime","VueEditor","mounted","moment","tz","format","add","console","log","loadRouteItems","getoffer","methods","routeService","load","then","response","e","fileTitle","files","target","dataTransfer","length","createImage","file","reader","FileReader","vm","onload","result","readAsDataURL","titlename","toUpperCase","$dirty","offerService","find","$route","params","id","$toast","open","message","position","duration","$touch","$invalid","getUser","update","setTimeout","$router","push","path","component"],"mappings":"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","file":"js/chunk-2d0b39e9.73735d28.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('section',{staticClass:\"tables\"},[_c('div',{staticClass:\"row\"},[_c('Breadcrumb',{attrs:{\"breadcrumbs\":_vm.breadcrumbs}}),_c('div',{staticClass:\"col-lg-10 offset-lg-1 grid-margin stretch-card\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Edit offer\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateOffer.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"Offer name\",\"label-for\":\"name-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-input',{class:{\n                    'is-invalid': _vm.submitted && _vm.$v.form.name.$error,\n                  },attrs:{\"id\":\"name-input\",\"type\":\"text\",\"placeholder\":\"Enter name\",\"state\":_vm.validateState('name')},model:{value:(_vm.$v.form.name.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.name, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"$v.form.name.$model\"}}),(_vm.submitted && !_vm.$v.form.name.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" offer name is required \")]):_vm._e()],1),_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('Datetime',{staticClass:\"theme-ferri\",attrs:{\"type\":\"date\",\"title\":\"start date\",\"input-class\":\"form-control\",\"zone\":\"Asia/Kolkata\",\"backdrop-click\":true},model:{value:(_vm.form.start_date),callback:function ($$v) {_vm.$set(_vm.form, \"start_date\", $$v)},expression:\"form.start_date\"}})],1),_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('Datetime',{staticClass:\"theme-ferri\",attrs:{\"type\":\"date\",\"title\":\"end date\",\"input-class\":\"form-control\",\"zone\":\"Asia/Kolkata\",\"backdrop-click\":true},model:{value:(_vm.form.end_date),callback:function ($$v) {_vm.$set(_vm.form, \"end_date\", $$v)},expression:\"form.end_date\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Offer Code\",\"label-for\":\"offer-code-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-input',{class:{\n                    'is-invalid': _vm.submitted && _vm.$v.form.code.$error,\n                  },attrs:{\"id\":\"chassis-no-input\",\"type\":\"text\",\"placeholder\":\"Enter offer code.\",\"state\":_vm.validateState('code'),\"formatter\":_vm.formatter},model:{value:(_vm.$v.form.code.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.code, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"$v.form.code.$model\"}}),(_vm.submitted && !_vm.$v.form.code.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" offer code is required \")]):_vm._e()],1),_c('b-form-group',{attrs:{\"label\":\"Discount (%)\",\"label-for\":\"discount-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-input',{attrs:{\"id\":\"discount-input\",\"type\":\"number\",\"placeholder\":\"Enter discount %.\"},model:{value:(_vm.form.discount),callback:function ($$v) {_vm.$set(_vm.form, \"discount\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.discount\"}})],1),_c('b-form-group',{attrs:{\"label\":\"No of attempt\",\"label-for\":\"attempt-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-input',{attrs:{\"id\":\"attempt-input\",\"type\":\"number\",\"placeholder\":\"Enter no of attempt.\"},model:{value:(_vm.form.attempt),callback:function ($$v) {_vm.$set(_vm.form, \"attempt\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.attempt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Offer picture (213x102)\",\"label-for\":\"picture-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[(!_vm.form.picture)?_c('div',[_c('b-form-file',{class:{\n                      'is-invalid': _vm.submitted && _vm.$v.form.picture.$error,\n                    },attrs:{\"id\":\"picture-input\",\"accept\":\"image/jpeg, image/png, image/jpg\",\"placeholder\":\"Choose a Offer picture or drop it here...\",\"state\":_vm.validateState('picture')},on:{\"change\":function($event){return _vm.onFileChange($event, 'picture')}}}),(_vm.submitted && !_vm.$v.form.picture.required)?_c('b-form-invalid-feedback',[_vm._v(\"picture is required\")]):_vm._e()],1):_c('div',[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.form.picture,\"width\":\"213\",\"height\":\"102\"}}),_c('button',{staticClass:\"btn social-btn btn-rounded btn-danger mr-4\",on:{\"click\":function($event){return _vm.removeImage('picture')}}},[_c('i',{staticClass:\"mdi mdi-close\"})])])]),_c('b-form-group',{staticClass:\"mt-3\",attrs:{\"label\":\"type\",\"label-for\":\"route-type-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-radio-group',{class:{\n                    'is-invalid': _vm.submitted && _vm.$v.form.type.$error,\n                  },attrs:{\"options\":_vm.routeoptions,\"state\":_vm.validateState('type')},on:{\"change\":function($event){return _vm.changeRoute($event)}},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}}),(_vm.submitted && !_vm.$v.form.type.required)?_c('b-form-invalid-feedback',[_vm._v(\"Please select type\")]):_vm._e()],1),(_vm.route)?_c('b-form-group',{attrs:{\"label\":\"Route Name\",\"label-for\":\"route-input\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"5\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"7\"}},[_c('b-form-select',{attrs:{\"options\":_vm.routes},scopedSlots:_vm._u([{key:\"first\",fn:function(){return [_c('b-form-select-option',{attrs:{\"value\":null,\"disabled\":\"\"}},[_vm._v(\"-- Please select an routes --\")])]},proxy:true}],null,false,2000711963),model:{value:(_vm.form.routeId),callback:function ($$v) {_vm.$set(_vm.form, \"routeId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.routeId\"}})],1):_vm._e(),_c('b-form-group',{staticClass:\"mt-3\",attrs:{\"label\":\"Offer terms\",\"label-for\":\"terms-input\",\"invalid-feedback\":\"terms is required\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"9\"}},[_c('vue-editor',{staticClass:\"mt-3\",class:{\n                    'is-invalid': _vm.submitted && _vm.$v.form.terms.$error,\n                  },attrs:{\"state\":_vm.validateState('terms')},model:{value:(_vm.form.terms),callback:function ($$v) {_vm.$set(_vm.form, \"terms\", $$v)},expression:\"form.terms\"}})],1),_c('b-form-group',{staticClass:\"mt-3\",attrs:{\"label\":\"Status \",\"label-for\":\"status-input\",\"invalid-feedback\":\"status is required\",\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"content-cols-sm\":\"\",\"content-cols-lg\":\"9\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.options,\"name\":\"status\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}}),(_vm.submitted && !_vm.$v.form.status.required)?_c('b-form-invalid-feedback',[_vm._v(\"Please select one\")]):_vm._e()],1),_c('b-form-group',{staticClass:\"col-md-6 offset-md-5\"},[_c('b-button',{staticClass:\"btn btn-lg btn-success text-center\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Submit\")])],1)],1)],1)])])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <section class=\"tables\">\r\n      <div class=\"row\">\r\n        <Breadcrumb :breadcrumbs=\"breadcrumbs\" />\r\n        <div class=\"col-lg-10 offset-lg-1 grid-margin stretch-card\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h4 class=\"card-title\">Edit offer</h4>\r\n              <b-form @submit.prevent=\"updateOffer\">\r\n                <b-form-group\r\n                  label=\"Offer name\"\r\n                  label-for=\"name-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"name-input\"\r\n                    v-model.trim=\"$v.form.name.$model\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter name\"\r\n                    :class=\"{\r\n                      'is-invalid': submitted && $v.form.name.$error,\r\n                    }\"\r\n                    :state=\"validateState('name')\"\r\n                  ></b-form-input>\r\n                  <div\r\n                    v-if=\"submitted && !$v.form.name.required\"\r\n                    class=\"invalid-feedback\"\r\n                  >\r\n                    offer name is required\r\n                  </div>\r\n                </b-form-group>\r\n                <b-form-group\r\n                  label=\"Start Date\"\r\n                  label-for=\"start-date-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <Datetime\r\n                    type=\"date\"\r\n                    title=\"start date\"\r\n                    v-model=\"form.start_date\"\r\n                    input-class=\"form-control\"\r\n                    zone=\"Asia/Kolkata\"\r\n                    class=\"theme-ferri\"\r\n                    :backdrop-click=\"true\"\r\n                  ></Datetime>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"End Date\"\r\n                  label-for=\"end-date-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <Datetime\r\n                    type=\"date\"\r\n                    title=\"end date\"\r\n                    v-model=\"form.end_date\"\r\n                    input-class=\"form-control\"\r\n                    zone=\"Asia/Kolkata\"\r\n                    class=\"theme-ferri\"\r\n                    :backdrop-click=\"true\"\r\n                  ></Datetime>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Offer Code\"\r\n                  label-for=\"offer-code-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"chassis-no-input\"\r\n                    v-model.trim=\"$v.form.code.$model\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter offer code.\"\r\n                    :class=\"{\r\n                      'is-invalid': submitted && $v.form.code.$error,\r\n                    }\"\r\n                    :state=\"validateState('code')\"\r\n                    :formatter=\"formatter\"\r\n                  ></b-form-input>\r\n                  <div\r\n                    v-if=\"submitted && !$v.form.code.required\"\r\n                    class=\"invalid-feedback\"\r\n                  >\r\n                    offer code is required\r\n                  </div>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Discount (%)\"\r\n                  label-for=\"discount-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"discount-input\"\r\n                    v-model.trim=\"form.discount\"\r\n                    type=\"number\"\r\n                    placeholder=\"Enter discount %.\"\r\n                  ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"No of attempt\"\r\n                  label-for=\"attempt-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"attempt-input\"\r\n                    v-model.trim=\"form.attempt\"\r\n                    type=\"number\"\r\n                    placeholder=\"Enter no of attempt.\"\r\n                  ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Offer picture (213x102)\"\r\n                  label-for=\"picture-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <div v-if=\"!form.picture\">\r\n                    <b-form-file\r\n                      id=\"picture-input\"\r\n                      accept=\"image/jpeg, image/png, image/jpg\"\r\n                      placeholder=\"Choose a Offer picture or drop it here...\"\r\n                      @change=\"onFileChange($event, 'picture')\"\r\n                      :class=\"{\r\n                        'is-invalid': submitted && $v.form.picture.$error,\r\n                      }\"\r\n                      :state=\"validateState('picture')\"\r\n                    ></b-form-file>\r\n                    <b-form-invalid-feedback\r\n                      v-if=\"submitted && !$v.form.picture.required\"\r\n                      >picture is required</b-form-invalid-feedback\r\n                    >\r\n                  </div>\r\n                  <div v-else>\r\n                    <img\r\n                      class=\"img-fluid\"\r\n                      :src=\"form.picture\"\r\n                      width=\"213\"\r\n                      height=\"102\"\r\n                    />\r\n                    <button\r\n                      class=\"btn social-btn btn-rounded btn-danger mr-4\"\r\n                      @click=\"removeImage('picture')\"\r\n                    >\r\n                      <i class=\"mdi mdi-close\"></i>\r\n                    </button>\r\n                  </div>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"type\"\r\n                  label-for=\"route-type-input\"\r\n                  class=\"mt-3\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-radio-group\r\n                    :options=\"routeoptions\"\r\n                    v-model=\"form.type\"\r\n                    :class=\"{\r\n                      'is-invalid': submitted && $v.form.type.$error,\r\n                    }\"\r\n                    :state=\"validateState('type')\"\r\n                    @change=\"changeRoute($event)\"\r\n                  ></b-form-radio-group>\r\n\r\n                  <b-form-invalid-feedback\r\n                    v-if=\"submitted && !$v.form.type.required\"\r\n                    >Please select type</b-form-invalid-feedback\r\n                  >\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  v-if=\"route\"\r\n                  label=\"Route Name\"\r\n                  label-for=\"route-input\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"5\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"7\"\r\n                >\r\n                  <b-form-select v-model.trim=\"form.routeId\" :options=\"routes\">\r\n                    <template #first>\r\n                      <b-form-select-option :value=\"null\" disabled\r\n                        >-- Please select an routes --</b-form-select-option\r\n                      >\r\n                    </template>\r\n                  </b-form-select>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Offer terms\"\r\n                  label-for=\"terms-input\"\r\n                  invalid-feedback=\"terms is required\"\r\n                  class=\"mt-3\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"3\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"9\"\r\n                >\r\n                  <vue-editor\r\n                    class=\"mt-3\"\r\n                    v-model=\"form.terms\"\r\n                    :class=\"{\r\n                      'is-invalid': submitted && $v.form.terms.$error,\r\n                    }\"\r\n                    :state=\"validateState('terms')\"\r\n                  ></vue-editor>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Status \"\r\n                  label-for=\"status-input\"\r\n                  invalid-feedback=\"status is required\"\r\n                  class=\"mt-3\"\r\n                  label-cols-sm=\"4\"\r\n                  label-cols-lg=\"3\"\r\n                  content-cols-sm\r\n                  content-cols-lg=\"9\"\r\n                >\r\n                  <b-form-radio-group\r\n                    :options=\"options\"\r\n                    v-model=\"form.status\"\r\n                    name=\"status\"\r\n                  ></b-form-radio-group>\r\n\r\n                  <b-form-invalid-feedback\r\n                    v-if=\"submitted && !$v.form.status.required\"\r\n                    >Please select one</b-form-invalid-feedback\r\n                  >\r\n                </b-form-group>\r\n\r\n                <b-form-group class=\"col-md-6 offset-md-5\">\r\n                  <b-button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-lg btn-success text-center\"\r\n                    >Submit</b-button\r\n                  >\r\n                </b-form-group>\r\n              </b-form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Breadcrumb from \"../../../components/breadcrumb\";\r\nimport { offerService, routeService } from \"../../../services\";\r\nimport { validationMixin } from \"vuelidate\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\nimport { Datetime } from \"vue-datetime\";\r\nimport \"vue-datetime/dist/vue-datetime.css\";\r\nimport moment from \"moment-timezone\";\r\nimport { VueEditor } from \"vue2-editor\";\r\nimport { mapState } from \"pinia\";\r\nimport { fetchUsers } from \"../../../store/fetchUsers.js\";\r\n\r\nexport default {\r\n  name: \"busedit\",\r\n  mixins: [validationMixin],\r\n  data() {\r\n    return {\r\n      breadcrumbs: {\r\n        title: \"Edit offer\",\r\n        b1: \"Manage offers\",\r\n        b2: \"offer\",\r\n        b3: \"Index\",\r\n        link: true,\r\n        name: \"offers\",\r\n      },\r\n      isEditing: false,\r\n      options: [\r\n        { text: \"Active\", value: true },\r\n        { text: \"Inactive\", value: false, default: true },\r\n      ],\r\n      routeoptions: [\r\n        { text: \"All\", value: true, default: true },\r\n        { text: \"Specific route\", value: false },\r\n      ],\r\n      form: {\r\n        adminId: \"\",\r\n        name: \"\",\r\n        start_date: \"\",\r\n        end_date: \"\",\r\n        code: \"\",\r\n        discount: \"\",\r\n        attempt: \"\",\r\n        routeId: \"\",\r\n        picture: \"\",\r\n        terms: \"\",\r\n        status: \"\",\r\n        type: \"\",\r\n      },\r\n      submitted: false,\r\n      loading: false,\r\n      route: false,\r\n      routes: [],\r\n    };\r\n  },\r\n  validations: {\r\n    form: {\r\n      name: { required },\r\n      code: { required },\r\n      picture: { required },\r\n      type: { required },\r\n      terms: { required },\r\n      status: { required },\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(fetchUsers, [\"getUser\"]),\r\n  },\r\n  components: {\r\n    Breadcrumb,\r\n    Datetime,\r\n    VueEditor,\r\n  },\r\n  mounted() {\r\n    this.form.start_date == \"\"\r\n      ? moment().tz(\"Asia/Kolkata\").format()\r\n      : this.form.start_date;\r\n    this.form.end_date == \"\"\r\n      ? moment().tz(\"Asia/Kolkata\").add(7, \"days\").format()\r\n      : this.form.start_date;\r\n    console.log(\"this.form.type \", this.form.type);\r\n    this.form.type == false ? (this.route = true) : (this.route = false);\r\n    this.loadRouteItems();\r\n    this.getoffer();\r\n  },\r\n  methods: {\r\n    loadRouteItems() {\r\n      routeService.load().then((response) => {\r\n        this.routes = response.data;\r\n      });\r\n    },\r\n    changeRoute(value) {\r\n      if (value == false) {\r\n        this.route = true;\r\n      } else {\r\n        this.route = false;\r\n        this.form.routeId = \"\";\r\n      }\r\n    },\r\n    onFileChange(e, fileTitle) {\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      console.log(files);\r\n      if (!files.length) return;\r\n      this.createImage(files[0], fileTitle);\r\n    },\r\n    createImage(file, fileTitle) {\r\n      // var picture = new Image();\r\n      var reader = new FileReader();\r\n      var vm = this;\r\n\r\n      reader.onload = (e) => {\r\n        vm.form[fileTitle] = e.target.result;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    },\r\n    removeImage: function (titlename) {\r\n      this.form[titlename] = \"\";\r\n    },\r\n    formatter(value) {\r\n      return value.toUpperCase();\r\n    },\r\n    validateState(name) {\r\n      const { $dirty, $error } = this.$v.form[name];\r\n      return $dirty ? !$error : null;\r\n    },\r\n\r\n    async getoffer() {\r\n      try {\r\n        const response = await offerService.find(this.$route.params.id);\r\n        if (response.status) {\r\n          this.form = response.data;\r\n        }\r\n      } catch (e) {\r\n        console.log(\"params\", e);\r\n        this.$toast.open({\r\n          message: e,\r\n          type: \"error\",\r\n          position: \"top-right\",\r\n          duration: 5000,\r\n        });\r\n      }\r\n    },\r\n    async updateOffer() {\r\n      try {\r\n        this.submitted = true;\r\n        // stop here if form is invalid\r\n        this.$v.$touch();\r\n        if (this.$v.$invalid) {\r\n          return;\r\n        }\r\n        this.form.adminId = this.getUser.id; // admin Id\r\n        const response = await offerService.update(\r\n          this.$route.params.id,\r\n          this.form\r\n        );\r\n        if (response.status) {\r\n          this.$toast.open({\r\n            message: response.message,\r\n            type: \"success\",\r\n            position: \"top-right\",\r\n            duration: 2000,\r\n            // all of other options may go here\r\n          });\r\n          setTimeout(\r\n            () =>\r\n              this.$router.push({\r\n                path: `/offers`,\r\n              }),\r\n            2000\r\n          );\r\n        }\r\n      } catch (e) {\r\n        this.$toast.open({\r\n          message: e,\r\n          type: \"error\",\r\n          position: \"top-right\",\r\n          duration: 5000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=671a2ac9&scoped=true\"\nimport script from \"./edit.vue?vue&type=script&lang=js\"\nexport * from \"./edit.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"671a2ac9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}