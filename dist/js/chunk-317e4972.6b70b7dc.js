(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-317e4972"],{"19cf":function(t,e,o){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("ul",[e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.b1))])]),e("li",{staticClass:"is-active"},[e("a",[t._v(t._s(t.breadcrumbs.title))])])])])])])},s=[],n={name:"breadcrumb",props:["breadcrumbs"]},i=n,r=(o("2c06"),o("2877")),l=Object(r["a"])(i,a,s,!1,null,"7cf2419e",null);e["a"]=l.exports},"2c06":function(t,e,o){"use strict";o("526f")},"526f":function(t,e,o){},b625:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"tables"},[e("div",{staticClass:"row"},[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}}),e("div",{staticClass:"col-lg-12"},[e("listForm")],1)],1)])])},s=[],n=o("19cf"),i=function(){var t=this,e=t._self._c;return e("div",[e("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,"total-rows":t.total_rows,classes:t.classes,"show-loader":t.showLoader},on:{"on-change-query":t.onChangeQuery},scopedSlots:t._u([{key:"notification",fn:function(o){return["notification"==o.column.name?e("span",[t._v(" "+t._s(o.row.notification.title)+" ")]):t._e()]}},{key:"days",fn:function(o){return["days"==o.column.name?e("span",[t._v(" "+t._s(o.row.days)+" "),e("br"),t._v(t._s(o.row.time)+" ")]):t._e()]}},{key:"send_total",fn:function(o){return["send_total"==o.column.name?e("span",[e("div",{domProps:{innerHTML:t._s(o.row.send_total)}})]):t._e()]}},{key:"status",fn:function(o){return["status"==o.column.name?e("span",["Active"==o.row.status?e("b-badge",{attrs:{variant:"success"}},[t._v("Active")]):"Inactive"==o.row.status?e("b-badge",{attrs:{variant:"warning"}},[t._v("InActive")]):t._e()],1):t._e()]}},{key:"action",fn:function(o){return["action"==o.column.name?e("span",[e("b-dropdown",{staticClass:"m-2",attrs:{id:"dropdown-left",text:"Actions",variant:"outline-info"}},[e("b-dropdown-item",{on:{click:function(e){return e.stopPropagation(),t.deleteRow(o.row.ids,o.row.notification.title)}}},[e("span",{staticClass:"text-danger"},[e("i",{staticClass:"mdi mdi-delete"}),t._v(" Delete ")])])],1)],1):t._e()]}}])},[e("template",{slot:"global-search-clear-icon"},[e("i",{staticClass:"mdi mdi-account-search"})]),e("template",{slot:"refresh-button-text"},[e("i",{staticClass:"mdi mdi-sync-alert"}),t._v(" Refresh ")]),e("template",{slot:"reset-button-text"},[e("i",{staticClass:"mdi mdi-broom"}),t._v(" Reset filters ")]),e("template",{slot:"paginataion-previous-button"},[t._v(" Previous ")]),e("template",{slot:"paginataion-next-button"},[t._v(" Next ")]),e("template",{slot:"vbt-action-buttons"},[e("div",{staticClass:"float-right"},[e("download-excel",{staticClass:"btn btn-success",attrs:{data:t.excelDownload,name:t.excelName}},[t._v(" Excel "),e("i",{staticClass:"mdi mdi-file-excel-box"})])],1)])],2),e("b-modal",{ref:"myModalRefNotification",attrs:{title:t.title,size:"xl","ok-title":t.modaloktitle},on:{hidden:t.hideModal,ok:t.handleOk}})],1)},r=[],l=(o("14d9"),o("0643"),o("4e3e"),o("dde5")),d=o("12f9"),c=o("7f45"),u=o.n(c),h=o("f2d9"),p={name:"notification-list",data(){return{showLoader:!1,options:[{value:"Active",text:"Active"},{value:"Inactive",text:"Inactive"}],status:"",columns:[{label:"To",name:"to",sort:!0},{label:"Type",name:"user_type",sort:!0},{label:"Title",name:"notification",sort:!1},{label:"Days & Time",name:"days",sort:!1},{label:"Send Total",name:"send_total",sort:!1},{label:"Status",name:"status",sort:!1},{label:"Action",name:"action",sort:!1}],rows:[],config:{server_mode:!0,loaderText:"Updating...",pagination:!0,global_search:{placeholder:"Enter search location",visibility:!0,case_sensitive:!1,showClearButton:!1,searchOnPressEnter:!1,searchDebounceRate:5e3},per_page_options:[10,20,30,50,100],highlight_row_hover_color:"silver",highlight_row_hover:!0,card_mode:!0},dropdowns:[],classes:{table:"table-bordered table-striped"},queryParams:{sort:[],filters:[],global_search:"",per_page:10,page:1},total_rows:0,modalEdit:!1,modalView:!1,modaloktitle:"",title:""}},components:{downloadExcel:h["a"],VueBootstrap4Table:d["a"]},computed:{excelDownload(){return l["p"].tranform(this.rows)},excelName(){return u()().local().unix().toString()}},methods:{updateStatus(t,e){l["p"].updateStatus(e,{status:t}).then(t=>{t.status?this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}):this.$toast.open({message:t.message,type:"danger",position:"top-right",duration:3e3})})},viewRow(t){this.title="Location Details",this.modalView=!0,this.modalEdit=!1,this.modaloktitle="Ok",this.$refs.myModalRefNotification.show(),this.form=t},deleteRow(t,e){try{this.$swal.fire({title:`Are you sure you want to delete ${e}?`,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&l["p"].deleteNotification(t).then(t=>{"object"===typeof t.data&&403===t.data.status?(this.$swal.fire(t.data.message,"","error"),this.$toast.open({message:t.data.message,type:"error",position:"top-right",duration:3e3}),this.showLoader=!1):t.status?(this.$swal.fire("Deleted!",t.message,"success"),this.$toast.open({message:t.message,type:"success",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems()):(this.$swal.fire("Failed!",t.message,"danger"),this.$toast.open({message:t.message,type:"danger",position:"top-right",duration:3e3}),this.showLoader=!0,this.loadItems())})})}catch(o){this.$toast.open({message:o,type:"error",position:"top-right",duration:5e3})}},editRow(t){this.title="Location Edit",this.modalEdit=!0,this.modalView=!1,this.modaloktitle="Update",this.$refs.myModalRefNotification.show(),console.log(t),this.form=t},hideModal(){this.$refs.myModalRefNotification.hide(),this.modalEdit=!1,this.modalView=!1},handleOk(){this.$refs.myModalRefNotification.hide(),this.modalEdit=!1,this.modalView=!1},updateParams(t){this.serverParams=Object.assign({},this.serverParams,t)},onChangeQuery(t){this.queryParams=t,this.showLoader=!0,this.loadItems()},loadItems(){l["p"].getAll(this.queryParams).then(t=>{this.total_rows=t.data.totalRecords,this.rows=t.data.notifications,this.showLoader=!1})},enableDropdowns(){this.$el.querySelectorAll('[data-toggle="dropdown"]').forEach(t=>{const e=t.nextElementSibling;let o=!1;function a(t){o=t,e.classList.toggle("show",o)}this.dropdowns.includes(e)||(this.dropdowns.push(e),t.addEventListener("click",t=>{t.preventDefault(),a(!o)}),e.addEventListener("click",t=>{t.preventDefault(),a(!1)}),e.clickOutsideEvent=o=>{const s=e===o.target||e.contains(o.target),n=t===o.target||t.contains(o.target);s||n||a(!1)},document.addEventListener("click",e.clickOutsideEvent))})}},mounted(){this.loadItems()},updated(){this.enableDropdowns()},destroyed(){this.dropdowns.forEach(t=>{document.removeEventListener("click",t.clickOutsideEvent)})}},f=p,m=o("2877"),b=Object(m["a"])(f,i,r,!1,null,null,null),g=b.exports,w={name:"notifications",data(){return{breadcrumbs:{title:"Notifications",b1:"Manage Notifications",b2:"Notifications",b3:"Index",link:!1,name:"Notifications"}}},components:{Breadcrumb:n["a"],listForm:g}},v=w,y=Object(m["a"])(v,a,s,!1,null,null,null);e["default"]=y.exports},f2d9:function(t,e,o){"use strict";(function(t){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}var a=o((function(t,e){(function(e,o){t.exports=o()})(0,(function(){return function t(e,o,a){var s,n,i=window,r="application/octet-stream",l=a||r,d=e,c=!o&&!a&&d,u=document.createElement("a"),h=function(t){return String(t)},p=i.Blob||i.MozBlob||i.WebKitBlob||h,f=o||"download";if(p=p.call?p.bind(i):Blob,"true"===String(this)&&(d=[d,l],l=d[0],d=d[1]),c&&c.length<2048&&(f=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,f,r)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&p!==h))return navigator.msSaveBlob?navigator.msSaveBlob(v(d),f):y(d);d=v(d),l=d.type||r}else if(/([\x80-\xff])/.test(d)){var b=0,g=new Uint8Array(d.length),w=g.length;for(b;b<w;++b)g[b]=d.charCodeAt(b);d=new p([g],{type:l})}function v(t){var e=t.split(/[:;,]/),o=e[1],a="base64"==e[2]?atob:decodeURIComponent,s=a(e.pop()),n=s.length,i=0,r=new Uint8Array(n);for(i;i<n;++i)r[i]=s.charCodeAt(i);return new p([r],{type:o})}function y(t,e){if("download"in u)return u.href=t,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){i.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,r)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var o=document.createElement("iframe");document.body.appendChild(o),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,r)),o.src=t,setTimeout((function(){document.body.removeChild(o)}),333)}if(s=d instanceof p?d:new p([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(s,f);if(i.URL)y(i.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===h)try{return y("data:"+l+";base64,"+i.btoa(s))}catch(x){return y("data:"+l+","+encodeURIComponent(s))}n=new FileReader,n.onload=function(t){y(this.result)},n.readAsDataURL(s)}return!0}}))})),s={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var t=(new Date).getTime();return"export_"+t},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let t=this.data;if("function"!==typeof this.fetch&&t||(t=await this.fetch()),!t||!t.length)return;let e=this.getProcessedJson(t,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(t,e,o){let s=this.base64ToBlob(t,o);"function"===typeof this.beforeFinish&&await this.beforeFinish(),a(s,e,o)},jsonToXLS(t){let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',o="<thead>";const a=Object.keys(t[0]).length;let s=this;const n=this.header||this.$attrs.title;n&&(o+=this.parseExtraData(n,'<tr><th colspan="'+a+'">${data}</th></tr>')),o+="<tr>";for(let i in t[0])o+="<th>"+i+"</th>";return o+="</tr>",o+="</thead>",o+="<tbody>",t.map((function(t,e){o+="<tr>";for(let a in t)o+="<td>"+s.preprocessLongNum(s.valueReformattedForMultilines(t[a]))+"</td>";o+="</tr>"})),o+="</tbody>",null!=this.footer&&(o+="<tfoot>",o+=this.parseExtraData(this.footer,'<tr><td colspan="'+a+'">${data}</td></tr>'),o+="</tfoot>"),e.replace("${table}",o).replace("${worksheet}",this.worksheet)},jsonToCSV(t){let e=this;var o=[];const a=this.header||this.$attrs.title;a&&o.push(this.parseExtraData(a,"${data}\r\n"));for(let s in t[0])o.push(s),o.push(",");return o.pop(),o.push("\r\n"),t.map((function(t){for(let a in t){let s=t[a]+"";e.escapeCsv&&(s='="'+s+'"',s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"')),o.push(s),o.push(",")}o.pop(),o.push("\r\n")})),null!=this.footer&&o.push(this.parseExtraData(this.footer,"${data}\r\n")),o.join("")},getProcessedJson(t,e){let o=this.getKeys(t,e),a=[],s=this;return t.map((function(t,e){let n={};for(let a in o){let e=o[a];n[a]=s.getValue(e,t)}a.push(n)})),a},getKeys(t,e){if(e)return e;let o={};for(let a in t[0])o[a]=a;return o},parseExtraData(t,e){let o="";if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&(o+=e.replace("${data}",t[a]));else o+=e.replace("${data}",t);return o},getValue(t,e){const o="object"!==typeof t?t:t.field;let a="string"!==typeof o?[]:o.split("."),s=this.defaultValue;return s=o?a.length>1?this.getValueFromNestedItem(e,a):this.parseValue(e[o]):e,t.hasOwnProperty("callback")&&(s=this.getValueFromCallback(s,t.callback)),s},valueReformattedForMultilines(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem(t,e){let o=t;for(let a of e)o&&(o=o[a]);return this.parseValue(o)},getValueFromCallback(t,e){if("function"!==typeof e)return this.defaultValue;const o=e(t);return this.parseValue(o)},parseValue(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob(t,e){let o=window.btoa(window.unescape(encodeURIComponent(t))),a=atob(o),s=a.length,n=new Uint8ClampedArray(s);while(s--)n[s]=a.charCodeAt(s);return new Blob([n],{type:e})}}};function n(t,e,o,a,s,n,i,r,l,d){"boolean"!==typeof i&&(l=r,r=i,i=!1);var c,u="function"===typeof o?o.options:o;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),a&&(u._scopeId=a),n?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},u._ssrRegister=c):e&&(c=i?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),c)if(u.functional){var h=u.render;u.render=function(t,e){return c.call(e),h(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return o}var i=n;const r=s;var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:t.idName},on:{click:t.generate}},[t._t("default",[t._v(" Download "+t._s(t.name)+" ")])],2)},d=[];l._withStripped=!0;const c=void 0,u=void 0,h=void 0,p=!1;var f=i({render:l,staticRenderFns:d},c,r,u,p,h,void 0,void 0);e["a"]=f}).call(this,o("c8ba"))}}]);
//# sourceMappingURL=chunk-317e4972.6b70b7dc.js.map