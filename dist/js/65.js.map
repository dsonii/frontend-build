{"version":3,"sources":["webpack:///src/views/admin/payments/index.vue","webpack:///./src/views/admin/payments/index.vue","webpack:///./src/views/admin/payments/index.vue?8d20","webpack:///./src/views/admin/payments/index.vue?e810","webpack:///./src/views/admin/payments/index.vue?e1b5"],"names":["name","data","title","breadcrumbs","b1","b2","b3","link","paymentStatus","columns","label","sort","rows","config","server_mode","loaderText","pagination","global_search","placeholder","visibility","case_sensitive","showClearButton","searchOnPressEnter","searchDebounceRate","per_page_options","dropdowns","classes","table","queryParams","filters","per_page","page","total_rows","form","id","slug","createdAt","showLoader","components","VueBootstrap4Table","Breadcrumb","downloadExcel","computed","excelDownload","paymentService","tranform","excelName","moment","local","unix","mapState","useApp","watch","$route.params.travel_status","val","loadItems","mounted","$route","params","travel_status","methods","dateFormated","format","getDateFormat","onRefreshData","checkStatus","row","response","orderId","paymentId","ids","status","$toast","open","message","type","position","duration","e","onChangeQuery","capitalizeFirstLetter","getAll","then","totalRecords","payments","string","charAt","toUpperCase","slice","enableDropdowns","$el","querySelectorAll","forEach","$dropdownToggle","$dropdown","nextElementSibling","isShown","setIsShown","state","classList","toggle","includes","push","addEventListener","event","preventDefault","clickOutsideEvent","isDropdownOrChildren","target","contains","isDropdownToggleOrChildren","document","updated","destroyed","removeEventListener","render","_vm","_c","_self","staticClass","attrs","on","scopedSlots","_u","key","fn","props","_v","_s","customer_name","customer_phone","dateFormat","value","column","payment_status","variant","_e","text","click","$event","slot","staticRenderFns","_withStripped"],"mappings":"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","file":"js/65.js","sourcesContent":["<template>\r\n  <div>\r\n    <section class=\"tables\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n          <Breadcrumb :breadcrumbs=\"breadcrumbs\" />\r\n        </div>\r\n        <div class=\"col-lg-12 stretch-card\">\r\n          <vue-bootstrap4-table\r\n            :rows=\"rows\"\r\n            :columns=\"columns\"\r\n            :config=\"config\"\r\n            @refresh-data=\"onRefreshData\"\r\n            @on-change-query=\"onChangeQuery\"\r\n            :total-rows=\"total_rows\"\r\n            :classes=\"classes\"\r\n            :show-loader=\"showLoader\"\r\n          >\r\n            <template slot=\"global-search-clear-icon\">\r\n              <i class=\"mdi mdi-account-search\"></i>\r\n            </template>\r\n\r\n            <template slot=\"refresh-button-text\">\r\n              <i class=\"mdi mdi-sync-alert\"></i> Refresh\r\n            </template>\r\n            <template slot=\"reset-button-text\">\r\n              <i class=\"mdi mdi-broom\"></i> Reset filters\r\n            </template>\r\n\r\n            <template slot=\"customer_name\" slot-scope=\"props\">\r\n              <p>{{ props.row.customer_name }}</p>\r\n              <small>{{ props.row.customer_phone }}</small>\r\n            </template>\r\n\r\n            <template slot=\"createdAt\" slot-scope=\"props\">\r\n              {{ dateFormated(props.row.createdAt, dateFormat.value) }}\r\n            </template>\r\n\r\n            <template slot=\"payment_status\" slot-scope=\"props\">\r\n              <span v-if=\"props.column.name == 'payment_status'\">\r\n                <b-badge\r\n                  variant=\"success\"\r\n                  v-if=\"props.row.payment_status == 'Completed'\"\r\n                  >Completed</b-badge\r\n                >\r\n                <b-badge\r\n                  variant=\"warning\"\r\n                  v-else-if=\"props.row.payment_status == 'Processing'\"\r\n                  >Processing</b-badge\r\n                >\r\n                <b-badge\r\n                  variant=\"info\"\r\n                  v-else-if=\"props.row.payment_status == 'Pending'\"\r\n                  >Pending</b-badge\r\n                >\r\n                <b-badge\r\n                  variant=\"danger\"\r\n                  v-else-if=\"props.row.payment_status == 'Failed'\"\r\n                  >Failed</b-badge\r\n                >\r\n              </span>\r\n            </template>\r\n\r\n            <template slot=\"action\" slot-scope=\"props\">\r\n              <span v-if=\"props.column.name == 'action'\">\r\n                <b-dropdown\r\n                  id=\"dropdown-left\"\r\n                  text=\"Actions\"\r\n                  variant=\"outline-info\"\r\n                  class=\"m-2\"\r\n                >\r\n                  <b-dropdown-item @click.prevent=\"checkStatus(props.row)\"\r\n                    ><span class=\"text-primary\">\r\n                      <b><i class=\"mdi mdi-access-point\"></i> Check Status</b>\r\n                    </span></b-dropdown-item\r\n                  >\r\n                  <!-- <b-dropdown-item\r\n                    v-if=\"user.role == 'admin'\"\r\n                    @click.stop=\"deleteRow(props.row.ids, props.row.firstname)\"\r\n                    ><span class=\"text-danger\">\r\n                      <i class=\"mdi mdi-delete\"></i> Delete\r\n                    </span></b-dropdown-item\r\n                  > -->\r\n                </b-dropdown>\r\n              </span>\r\n            </template>\r\n\r\n            <template slot=\"paginataion-previous-button\"> Previous </template>\r\n            <template slot=\"paginataion-next-button\"> Next </template>\r\n            <template slot=\"card-header\">\r\n              Payment - {{ paymentStatus.toUpperCase() }}\r\n            </template>\r\n            <template slot=\"vbt-action-buttons\">\r\n              <div class=\"float-right\">\r\n                <download-excel\r\n                  class=\"btn btn-success\"\r\n                  :data=\"excelDownload\"\r\n                  :name=\"excelName\"\r\n                >\r\n                  Excel <i class=\"mdi mdi-file-excel-box\"></i>\r\n                </download-excel>\r\n              </div>\r\n            </template>\r\n          </vue-bootstrap4-table>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { paymentService } from \"../../../services\";\r\nimport Breadcrumb from \"../../../components/breadcrumb\";\r\nimport VueBootstrap4Table from \"vue-bootstrap4-table\";\r\nimport downloadExcel from \"vue-json-excel\";\r\nimport moment from \"moment-timezone\";\r\nimport { mapState } from \"pinia\";\r\nimport { useApp } from \"../../../store/useApp\";\r\nimport { getDateFormat } from \"../../../helpers/utils\";\r\n\r\nexport default {\r\n  name: \"payments\",\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      breadcrumbs: {\r\n        title: \"Payment Lists\",\r\n        b1: \"Manage Payments\",\r\n        b2: \"Payments\",\r\n        b3: \"Index\",\r\n        link: false,\r\n        name: \"Payment lists\",\r\n      },\r\n      paymentStatus: \"\",\r\n      columns: [\r\n        {\r\n          label: \"Customer\",\r\n          name: \"customer_name\",\r\n          sort: true,\r\n        },\r\n        {\r\n          label: \"PNR\",\r\n          name: \"booking_pnr\",\r\n          sort: true,\r\n        },\r\n        {\r\n          label: \"Amount\",\r\n          name: \"amount\",\r\n          sort: true,\r\n        },\r\n        {\r\n          label: \"Refund\",\r\n          name: \"refund_amount\",\r\n          sort: true,\r\n        },\r\n        {\r\n          label: \"OrderId\",\r\n          name: \"orderId\",\r\n          sort: true,\r\n        },\r\n        {\r\n          label: \"CreatedAt\",\r\n          name: \"createdAt\",\r\n          sort: true,\r\n        },\r\n        { label: \"Action\", name: \"action\", sort: false },\r\n      ],\r\n      rows: [],\r\n      config: {\r\n        server_mode: true, // by default false\r\n        loaderText: \"Updating...\", // by default 'Loading...'\r\n        pagination: true,\r\n        global_search: {\r\n          placeholder: \"Enter search offers\",\r\n          visibility: true,\r\n          case_sensitive: false,\r\n          showClearButton: false,\r\n          searchOnPressEnter: false,\r\n          searchDebounceRate: 1000,\r\n        },\r\n        per_page_options: [10, 20, 30, 50, 100],\r\n        //highlight_row_hover_color: \"grey\",\r\n        // card_title: \"Vue Bootsrap 4 advanced table\",\r\n        // card_mode: false,\r\n      },\r\n      dropdowns: [],\r\n      classes: {\r\n        table: \"table-bordered table-striped\",\r\n      },\r\n      queryParams: {\r\n        sort: [],\r\n        filters: \"\", //\"SEARCHING\",\r\n        global_search: \"\",\r\n        per_page: 10,\r\n        page: 1,\r\n      },\r\n      total_rows: 0,\r\n      form: {\r\n        id: \"\",\r\n        name: \"\",\r\n        slug: \"\",\r\n        createdAt: \"\",\r\n      },\r\n      showLoader: false,\r\n    };\r\n  },\r\n  components: {\r\n    VueBootstrap4Table,\r\n    Breadcrumb,\r\n    downloadExcel,\r\n  },\r\n  computed: {\r\n    excelDownload() {\r\n      return paymentService.tranform(this.rows);\r\n    },\r\n    excelName() {\r\n      return this.breadcrumbs.title + \"_\" + moment().local().unix();\r\n    },\r\n    ...mapState(useApp, [\"dateFormat\"]),\r\n  },\r\n  watch: {\r\n    \"$route.params.travel_status\"(val) {\r\n      // call the method which loads your initial state\r\n      this.paymentStatus = val;\r\n      this.loadItems();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.paymentStatus = this.$route.params.travel_status;\r\n    this.loadItems();\r\n  },\r\n  methods: {\r\n    dateFormated(createdAt, format) {\r\n      return getDateFormat(createdAt, format); //\"DD MMM, YYYY\"\r\n    },\r\n    onRefreshData() {\r\n      this.showLoader = true;\r\n      this.loadItems();\r\n    },\r\n    async checkStatus(row) {\r\n      try {\r\n        const response = await paymentService.checkStatus(row.orderId, {\r\n          paymentId: row.ids,\r\n        });\r\n        if (response.status === 200) {\r\n          this.$toast.open({\r\n            message: response.message,\r\n            type: \"success\",\r\n            position: \"top-right\",\r\n            duration: 5000,\r\n          });\r\n          this.showLoader = true;\r\n          this.loadItems();\r\n        } else {\r\n          this.$toast.open({\r\n            message: response.message,\r\n            type: \"error\",\r\n            position: \"top-right\",\r\n            duration: 5000,\r\n          });\r\n          this.showLoader = true;\r\n          this.loadItems();\r\n        }\r\n      } catch (e) {\r\n        this.$toast.open({\r\n          message: e.message,\r\n          type: \"error\",\r\n          position: \"top-right\",\r\n          duration: 5000,\r\n        });\r\n      }\r\n    },\r\n    onChangeQuery(queryParams) {\r\n      this.queryParams = queryParams;\r\n      this.showLoader = true;\r\n      this.loadItems();\r\n    },\r\n    loadItems() {\r\n      this.queryParams.filters = this.capitalizeFirstLetter(\r\n        this.$route.params.travel_status\r\n      ); // travel_status completed/searching,assigned/started\r\n      paymentService.getAll(this.queryParams).then((response) => {\r\n        this.total_rows = response.data.totalRecords;\r\n        this.rows = response.data.payments;\r\n        this.showLoader = false;\r\n      });\r\n    },\r\n    capitalizeFirstLetter(string) {\r\n      return string.charAt(0).toUpperCase() + string.slice(1);\r\n    },\r\n    enableDropdowns() {\r\n      this.$el\r\n        .querySelectorAll('[data-toggle=\"dropdown\"]')\r\n        .forEach(($dropdownToggle) => {\r\n          const $dropdown = $dropdownToggle.nextElementSibling;\r\n          let isShown = false;\r\n\r\n          function setIsShown(state) {\r\n            isShown = state;\r\n            $dropdown.classList.toggle(\"show\", isShown);\r\n          }\r\n\r\n          if (!this.dropdowns.includes($dropdown)) {\r\n            this.dropdowns.push($dropdown);\r\n\r\n            $dropdownToggle.addEventListener(\"click\", (event) => {\r\n              event.preventDefault();\r\n              setIsShown(!isShown);\r\n            });\r\n\r\n            $dropdown.addEventListener(\"click\", (event) => {\r\n              event.preventDefault();\r\n              setIsShown(false);\r\n            });\r\n\r\n            $dropdown.clickOutsideEvent = (event) => {\r\n              const isDropdownOrChildren =\r\n                $dropdown === event.target || $dropdown.contains(event.target);\r\n              const isDropdownToggleOrChildren =\r\n                $dropdownToggle === event.target ||\r\n                $dropdownToggle.contains(event.target);\r\n\r\n              if (!isDropdownOrChildren && !isDropdownToggleOrChildren) {\r\n                setIsShown(false);\r\n              }\r\n            };\r\n            document.addEventListener(\"click\", $dropdown.clickOutsideEvent);\r\n          }\r\n        });\r\n    },\r\n  },\r\n  updated() {\r\n    this.enableDropdowns();\r\n  },\r\n  destroyed() {\r\n    this.dropdowns.forEach(($dropdown) => {\r\n      document.removeEventListener(\"click\", $dropdown.clickOutsideEvent);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", [\n    _c(\"section\", { staticClass: \"tables\" }, [\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"col-lg-12\" },\n          [_c(\"Breadcrumb\", { attrs: { breadcrumbs: _vm.breadcrumbs } })],\n          1\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"col-lg-12 stretch-card\" },\n          [\n            _c(\n              \"vue-bootstrap4-table\",\n              {\n                attrs: {\n                  rows: _vm.rows,\n                  columns: _vm.columns,\n                  config: _vm.config,\n                  \"total-rows\": _vm.total_rows,\n                  classes: _vm.classes,\n                  \"show-loader\": _vm.showLoader,\n                },\n                on: {\n                  \"refresh-data\": _vm.onRefreshData,\n                  \"on-change-query\": _vm.onChangeQuery,\n                },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"customer_name\",\n                    fn: function (props) {\n                      return [\n                        _c(\"p\", [_vm._v(_vm._s(props.row.customer_name))]),\n                        _c(\"small\", [_vm._v(_vm._s(props.row.customer_phone))]),\n                      ]\n                    },\n                  },\n                  {\n                    key: \"createdAt\",\n                    fn: function (props) {\n                      return [\n                        _vm._v(\n                          \" \" +\n                            _vm._s(\n                              _vm.dateFormated(\n                                props.row.createdAt,\n                                _vm.dateFormat.value\n                              )\n                            ) +\n                            \" \"\n                        ),\n                      ]\n                    },\n                  },\n                  {\n                    key: \"payment_status\",\n                    fn: function (props) {\n                      return [\n                        props.column.name == \"payment_status\"\n                          ? _c(\n                              \"span\",\n                              [\n                                props.row.payment_status == \"Completed\"\n                                  ? _c(\n                                      \"b-badge\",\n                                      { attrs: { variant: \"success\" } },\n                                      [_vm._v(\"Completed\")]\n                                    )\n                                  : props.row.payment_status == \"Processing\"\n                                  ? _c(\n                                      \"b-badge\",\n                                      { attrs: { variant: \"warning\" } },\n                                      [_vm._v(\"Processing\")]\n                                    )\n                                  : props.row.payment_status == \"Pending\"\n                                  ? _c(\n                                      \"b-badge\",\n                                      { attrs: { variant: \"info\" } },\n                                      [_vm._v(\"Pending\")]\n                                    )\n                                  : props.row.payment_status == \"Failed\"\n                                  ? _c(\n                                      \"b-badge\",\n                                      { attrs: { variant: \"danger\" } },\n                                      [_vm._v(\"Failed\")]\n                                    )\n                                  : _vm._e(),\n                              ],\n                              1\n                            )\n                          : _vm._e(),\n                      ]\n                    },\n                  },\n                  {\n                    key: \"action\",\n                    fn: function (props) {\n                      return [\n                        props.column.name == \"action\"\n                          ? _c(\n                              \"span\",\n                              [\n                                _c(\n                                  \"b-dropdown\",\n                                  {\n                                    staticClass: \"m-2\",\n                                    attrs: {\n                                      id: \"dropdown-left\",\n                                      text: \"Actions\",\n                                      variant: \"outline-info\",\n                                    },\n                                  },\n                                  [\n                                    _c(\n                                      \"b-dropdown-item\",\n                                      {\n                                        on: {\n                                          click: function ($event) {\n                                            $event.preventDefault()\n                                            return _vm.checkStatus(props.row)\n                                          },\n                                        },\n                                      },\n                                      [\n                                        _c(\n                                          \"span\",\n                                          { staticClass: \"text-primary\" },\n                                          [\n                                            _c(\"b\", [\n                                              _c(\"i\", {\n                                                staticClass:\n                                                  \"mdi mdi-access-point\",\n                                              }),\n                                              _vm._v(\" Check Status\"),\n                                            ]),\n                                          ]\n                                        ),\n                                      ]\n                                    ),\n                                  ],\n                                  1\n                                ),\n                              ],\n                              1\n                            )\n                          : _vm._e(),\n                      ]\n                    },\n                  },\n                ]),\n              },\n              [\n                _c(\"template\", { slot: \"global-search-clear-icon\" }, [\n                  _c(\"i\", { staticClass: \"mdi mdi-account-search\" }),\n                ]),\n                _c(\"template\", { slot: \"refresh-button-text\" }, [\n                  _c(\"i\", { staticClass: \"mdi mdi-sync-alert\" }),\n                  _vm._v(\" Refresh \"),\n                ]),\n                _c(\"template\", { slot: \"reset-button-text\" }, [\n                  _c(\"i\", { staticClass: \"mdi mdi-broom\" }),\n                  _vm._v(\" Reset filters \"),\n                ]),\n                _c(\"template\", { slot: \"paginataion-previous-button\" }, [\n                  _vm._v(\" Previous \"),\n                ]),\n                _c(\"template\", { slot: \"paginataion-next-button\" }, [\n                  _vm._v(\" Next \"),\n                ]),\n                _c(\"template\", { slot: \"card-header\" }, [\n                  _vm._v(\n                    \" Payment - \" +\n                      _vm._s(_vm.paymentStatus.toUpperCase()) +\n                      \" \"\n                  ),\n                ]),\n                _c(\"template\", { slot: \"vbt-action-buttons\" }, [\n                  _c(\n                    \"div\",\n                    { staticClass: \"float-right\" },\n                    [\n                      _c(\n                        \"download-excel\",\n                        {\n                          staticClass: \"btn btn-success\",\n                          attrs: {\n                            data: _vm.excelDownload,\n                            name: _vm.excelName,\n                          },\n                        },\n                        [\n                          _vm._v(\" Excel \"),\n                          _c(\"i\", { staticClass: \"mdi mdi-file-excel-box\" }),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ]),\n              ],\n              2\n            ),\n          ],\n          1\n        ),\n      ]),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1e9f314a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e9f314a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\shuttle_management\\\\Shuttle\\\\full-code-new-customer-updated\\\\build\\\\frontend\\\\shuttle-dashboard\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1e9f314a')) {\n      api.createRecord('1e9f314a', component.options)\n    } else {\n      api.reload('1e9f314a', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=1e9f314a&scoped=true\", function () {\n      api.rerender('1e9f314a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/admin/payments/index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"7428675c-vue-loader-template\\\"}!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=1e9f314a&scoped=true\""],"sourceRoot":""}