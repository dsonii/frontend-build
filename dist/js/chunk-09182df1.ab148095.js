(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09182df1"],{"19cf":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"level"},[t("div",{staticClass:"level-left"},[t("ul",[t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.b1))])]),t("li",{staticClass:"is-active"},[t("a",[e._v(e._s(e.breadcrumbs.title))])])])])])])},r=[],i={name:"breadcrumb",props:["breadcrumbs"]},l=i,o=(a("2c06"),a("2877")),n=Object(o["a"])(l,s,r,!1,null,"7cf2419e",null);t["a"]=n.exports},2767:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"tables"},[t("div",{staticClass:"row"},[t("Breadcrumb",{attrs:{breadcrumbs:e.breadcrumbs}}),t("div",{staticClass:"col-lg-10 offset-lg-1 grid-margin stretch-card"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"First Name","label-for":"firstname-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted||e.$v.form.firstname.$error},attrs:{id:"firstname-input",type:"text",placeholder:"Enter first name",state:e.validateState("firstname")},model:{value:e.$v.form.firstname.$model,callback:function(t){e.$set(e.$v.form.firstname,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.firstname.$model"}}),e.submitted||!e.$v.form.firstname.required?t("b-form-invalid-feedback",[e._v(" first name is required ")]):e._e(),e.$v.form.firstname.alpha?e._e():t("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v("Only alphabetic characters are allowed")])],1),t("b-form-group",{attrs:{label:"Last Name","label-for":"lastname-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted||e.$v.form.lastname.$error},attrs:{id:"lastname-input",type:"text",placeholder:"Enter last name",state:e.validateState("lastname")},model:{value:e.$v.form.lastname.$model,callback:function(t){e.$set(e.$v.form.lastname,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.lastname.$model"}}),e.submitted||!e.$v.form.lastname.required?t("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[e._v(" last name is required ")]):e._e(),e.$v.form.lastname.alpha?e._e():t("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v("Only alphabetic characters are allowed")])],1),t("b-form-group",{attrs:{label:"Email Address","label-for":"email-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted||e.$v.form.email.$error},attrs:{id:"email-input",type:"email",placeholder:"Enter email address",state:e.validateState("email")},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.email.$model"}}),e.submitted||!e.$v.form.email.required?t("b-form-invalid-feedback",[e._v(" email address is required ")]):e._e()],1),t("b-form-group",{attrs:{label:"Mobile Number","label-for":"phone-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{class:{"is-invalid":e.submitted||e.$v.form.phone.$error},attrs:{id:"phone-input",placeholder:"Enter phone number",state:e.validateState("phone")},model:{value:e.$v.form.phone.$model,callback:function(t){e.$set(e.$v.form.phone,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.phone.$model"}}),e.submitted||!e.$v.form.phone.required?t("div",{staticClass:"invalid-feedback"},[e._v(" mobile number is required ")]):e._e(),e.$v.form.phone.minLength?e._e():t("b-form-invalid-feedback",[e._v(" mobile number must have at least "+e._s(e.$v.form.phone.$params.minLength.min)+" letters. ")]),e.$v.form.phone.maxLength?e._e():t("b-form-invalid-feedback",[e._v(" mobile number must have at least "+e._s(e.$v.form.phone.$params.maxLength.max)+" letters. ")])],1),t("b-form-group",{attrs:{label:"Role","label-for":"role-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-select",{class:{"is-invalid":e.submitted||e.$v.form.role.$error},attrs:{options:e.roles,state:e.validateState("role")},scopedSlots:e._u([{key:"first",fn:function(){return[t("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("-- Please select an role --")])]},proxy:!0}]),model:{value:e.$v.form.role.$model,callback:function(t){e.$set(e.$v.form.role,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.role.$model"}}),e.submitted||!e.$v.form.role.required?t("div",{staticClass:"invalid-feedback"},[e._v(" role name is required ")]):e._e()],1),t("b-form-group",{staticClass:"mt-3",attrs:{label:"Status ","label-for":"status-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-radio-group",{class:{"is-invalid":e.submitted&&e.$v.form.is_active.$error},attrs:{options:e.options,name:"status",state:e.validateState("is_active")},model:{value:e.$v.form.is_active.$model,callback:function(t){e.$set(e.$v.form.is_active,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.is_active.$model"}}),e.submitted||!e.$v.form.is_active.required?t("b-form-invalid-feedback",[e._v("Please select one")]):e._e()],1),t("br"),t("b-form-group",{attrs:{label:"Profile picture","label-for":"picture-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[e.form.picture?t("div",[t("img",{staticClass:"img-fluid",attrs:{src:e.form.picture,width:"80",height:"80"}}),t("button",{staticClass:"btn social-btn btn-rounded btn-danger mr-2",on:{click:function(t){return e.removeImage("picture")}}},[t("i",{staticClass:"mdi mdi-close"})])]):t("div",[t("b-form-file",{attrs:{id:"picture-input",accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose a Profile picture or drop it here..."},on:{change:function(t){return e.onFileChange(t,"picture")}}})],1)]),t("b-form-group",{attrs:{label:"Home Address","label-for":"address-1-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-textarea",{attrs:{id:"address-1-input",placeholder:"Enter home address...",rows:"3","max-rows":"5"},model:{value:e.form.address_1,callback:function(t){e.$set(e.form,"address_1","string"===typeof t?t.trim():t)},expression:"form.address_1"}})],1),t("b-form-group",{attrs:{label:"Post Code","label-for":"pincode-input","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7"}},[t("b-form-input",{attrs:{id:"pincode-input",placeholder:"Enter Pincode"},model:{value:e.form.pincode,callback:function(t){e.$set(e.form,"pincode","string"===typeof t?t.trim():t)},expression:"form.pincode"}})],1),t("b-form-group",{staticClass:"col-md-6 offset-md-4"},[t("b-button",{staticClass:"btn btn-lg btn-success text-center",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.submitted,expression:"submitted"}],staticClass:"pl-2 spinner-border spinner-border-sm"}),e._v(" Submit")])],1)],1)],1)])])],1)])])},r=[],i=(a("14d9"),a("0643"),a("fffc"),a("19cf")),l=a("1dce"),o=a("b5ae"),n=a("dde5"),m={name:"useredit",mixins:[l["validationMixin"]],data(){return{breadcrumbs:{title:"Edit user",b1:"Manage users",b2:"users",b3:"Index",link:!0,name:"users"},form:{firstname:"",lastname:"",email:"",phone:"",picture:"",role:null,company:"",address_1:"",address_2:"",pincode:"",is_active:"",contact_no:"",document_pancard:"",document_gst_certificate:"",is_agent:!1},submitted:!1,options:[{text:"Active",value:"true"},{text:"Inactive",value:"false",default:!0}],roles:[]}},validations:{form:{email:{required:o["required"],email:o["email"]},firstname:{required:o["required"],alpha:o["alpha"]},lastname:{required:o["required"],alpha:o["alpha"]},role:{required:o["required"]},phone:{required:o["required"],numeric:o["numeric"],minLength:Object(o["minLength"])(10),maxLength:Object(o["maxLength"])(10)},is_active:{required:o["required"]}}},components:{Breadcrumb:i["a"]},mounted(){this.getUser(),this.loadRole()},methods:{validateState(e){const{$dirty:t,$error:a}=this.$v.form[e];return t?!a:null},onFileChange(e,t){var a=e.target.files||e.dataTransfer.files;console.log(a),a.length&&this.createImage(a[0],t)},createImage(e,t){var a=new FileReader,s=this;a.onload=e=>{s.form[t]=e.target.result},a.readAsDataURL(e)},removeImage:function(e){this.form[e]=""},async loadRole(){const e=await n["x"].load();e.status&&(this.roles=e.data)},async getUser(){try{const e=await n["B"].find(this.$route.params.id);e.status&&(this.form=e.user)}catch(e){console.log("params",e),this.$toast.open({message:e,type:"error",position:"top-right",duration:5e3})}},async updateUser(){try{if(this.submitted=!0,this.$v.$touch(),this.$v.$invalid)return void(this.submitted=!1);const e=await n["B"].update(this.$route.params.id,this.form);e.status&&(this.submitted=!1,this.$toast.open({message:e.message,type:"success",position:"top-right",duration:2e3}),setTimeout(()=>this.$router.push({path:"/users"}),2e3))}catch(e){this.$toast.open({message:e,type:"error",position:"top-right",duration:5e3})}}}},c=m,d=a("2877"),u=Object(d["a"])(c,s,r,!1,null,null,null);t["default"]=u.exports},"2c06":function(e,t,a){"use strict";a("526f")},"526f":function(e,t,a){}}]);
//# sourceMappingURL=chunk-09182df1.ab148095.js.map